{"version":3,"sources":["global.js","header.js","menu.js","popup.js","placeholder.js","form.js","anchor.js","alert.js"],"names":["browser","elemIsHidden","ajax","animate","document","documentElement","setAttribute","navigator","userAgent","toLowerCase","test","CustomEvent","e","window","event","params","evt","bubbles","cancelable","detail","undefined","createEvent","initCustomEvent","prototype","Object","create","Event","winResizedEvent","rsz","addEventListener","setTimeout","dispatchEvent","Element","closest","ElProto","matches","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","selector","parentElement","elem","compStyle","getComputedStyle","display","visibility","opacity","options","xhr","XMLHttpRequest","open","url","send","setRequestHeader","onreadystatechange","readyState","status","success","response","error","draw","duration","ease","complete","start","performance","now","requestAnimationFrame","anim","time","timeFraction","progress","easing","quad","Math","pow","MobNav","headerElem","querySelector","pageYOffset","classList","add","body","contains","remove","winScrollTop","fixBody","st","style","top","scrollTo","btnElem","getElementById","headerId","close","openBtnElements","querySelectorAll","openBtn","i","length","init","openElem","target","closeElem","closeBtn","menuLinkElement","menuLinkSelector","preventDefault","Menu","toggle","elementStr","subMenuStr","subMenuElem","height","mainElem","itemElements","subMenuElements","scrollHeight","Popup","onClose","headerSelector","offset","innerWidth","clientWidth","right","callback","elemParent","message","msg","innerHTML","elements","element","getAttribute","location","hash","Placeholder","elementsStr","placeholder","elemFor","id","label","createElement","htmlFor","className","insertBefore","removeAttribute","value","hide","lSt","textIndent","paddingLeft","paddingRight","ValidateForm","Form","input","errorTip","err","errInd","errorTxt","field","errTip","hasAttribute","customErrorTip","txt","num","name","date","errDate","match","compDate","Date","curDate","interval","valueOf","getFullYear","getMonth","getDate","email","tel","pass","minLng","checkbox","group","checkedElements","checked","radio","checkedElement","select","file","filesArr","errCount","ext","size","maxFiles","extRegExp","RegExp","replace","maxSize","fileItemElements","validateOnInput","dataType","validate","formElem","groups","CustomFile","inputFiles","val","compElemVal","formSelector","type","varHeightTextarea","setHeight","mirror","mirrorOutput","NextFieldset","next","fwd","nextFieldset","currentFieldset","goTo","nextBtnSelector","prevBtnSelector","nextBtnElem","prevBtnElem","onSubmit","submit","clear","Select","reset","textareaMirrors","actSubmitBtn","ret","obj","unlockSubmitButton","clearForm","key","which","keyCode","ctrlKey","BindLabels","forID","DuplicateForm","modelElem","destElem","duplicatedDiv","appendChild","dupicatedElements","dupicatedElem","labelElements","inputElements","j","duplElem","addBtnSelector","removeBtnSelector","addBtnElem","removeBtnElem","Anchor","shift","scroll","anchorId","anchorSectionElem","getBoundingClientRect","split","Alert","alertIndex","opt","alertId","showOnce","hiddenAlert","localStorage","getItem","alertElem","position","setContent","content","hidePermanently","setItem"],"mappings":"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","file":"script.js","sourcesContent":["// global variables\r\n; var browser, elemIsHidden, ajax, animate;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\t// Get useragent\r\n\tdocument.documentElement.setAttribute('data-useragent', navigator.userAgent.toLowerCase());\r\n\r\n\t// Browser identify\r\n\tbrowser = (function(userAgent) {\r\n\t\tuserAgent = userAgent.toLowerCase();\r\n\r\n\t\tif (/(msie|rv:11\\.0)/.test(userAgent)) {\r\n\t\t\treturn 'ie';\r\n\t\t}\r\n\t})(navigator.userAgent);\r\n\r\n\t// Add support CustomEvent constructor for IE\r\n\ttry {\r\n\t\tnew CustomEvent(\"IE has CustomEvent, but doesn't support constructor\");\r\n\t} catch (e) {\r\n\t\twindow.CustomEvent = function(event, params) {\r\n\t\t\tvar evt;\r\n\r\n\t\t\tparams = params || {\r\n\t\t\t\tbubbles: false,\r\n\t\t\t\tcancelable: false,\r\n\t\t\t\tdetail: undefined\r\n\t\t\t};\r\n\r\n\t\t\tevt = document.createEvent(\"CustomEvent\");\r\n\r\n\t\t\tevt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\r\n\r\n\t\t\treturn evt;\r\n\t\t}\r\n\r\n\t\tCustomEvent.prototype = Object.create(window.Event.prototype);\r\n\t}\r\n\r\n\t// Window Resized Event\r\n\tvar winResizedEvent = new CustomEvent('winResized'),\r\n\trsz = true;\r\n\r\n\twindow.addEventListener('resize', function() {\r\n\t\tif (rsz) {\r\n\t\t\trsz = false;\r\n\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\twindow.dispatchEvent(winResizedEvent);\r\n\t\t\t\trsz = true;\r\n\t\t\t}, 1021);\r\n\t\t}\r\n\t});\r\n\r\n\t// Closest polyfill\r\n\tif (!Element.prototype.closest) {\r\n\t\t(function(ElProto) {\r\n\t\t\tElProto.matches = ElProto.matches || ElProto.mozMatchesSelector || ElProto.msMatchesSelector || ElProto.oMatchesSelector || ElProto.webkitMatchesSelector;\r\n\r\n\t\t\tElProto.closest = ElProto.closest || function closest(selector) {\r\n\t\t\t\tif (!this) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.matches(selector)) {\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!this.parentElement) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this.parentElement.closest(selector);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t})(Element.prototype);\r\n\t}\r\n\r\n\t// Check element for hidden\r\n\telemIsHidden = function(elem) {\r\n\t\twhile (elem) {\r\n\t\t\tif (!elem) break;\r\n\r\n\t\t\tconst compStyle = getComputedStyle(elem);\r\n\r\n\t\t\tif (compStyle.display == 'none' || compStyle.visibility == 'hidden' || compStyle.opacity == '0') return true;\r\n\r\n\t\t\telem = elem.parentElement;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Ajax\r\n\tajax = function(options) {\r\n\t\tvar xhr = new XMLHttpRequest();\r\n\r\n\t\txhr.open('POST', options.url);\r\n\r\n\t\tif (typeof options.send == 'string') {\r\n\t\t\txhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\r\n\t\t}\r\n\t\t\r\n\t\txhr.onreadystatechange = function() {\r\n\t\t\tif (xhr.readyState == 4 && xhr.status == 200) {\r\n\t\t\t\toptions.success(xhr.response);\r\n\t\t\t} else if (xhr.readyState == 4 && xhr.status != 200) {\r\n\t\t\t\toptions.error(xhr.response);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\txhr.send(options.send);\r\n\t}\r\n\r\n\t/*\r\n\tAnimation\r\n\tanimate(function(takes 0...1) {}, Int duration in ms[, Str easing[, Fun animation complete]]);\r\n\t*/\r\n\tanimate = function(draw, duration, ease, complete) {\r\n\t\tvar start = performance.now();\r\n\r\n\t\trequestAnimationFrame(function anim(time) {\r\n\t\t\tvar timeFraction = (time - start) / duration;\r\n\r\n\t\t\tif (timeFraction > 1) {\r\n\t\t\t\ttimeFraction = 1;\r\n\t\t\t}\r\n\r\n\t\t\tvar progress = (ease) ? easing(timeFraction, ease) : timeFraction;\r\n\r\n\t\t\tdraw(progress);\r\n\r\n\t\t\tif (timeFraction < 1) {\r\n\t\t\t\trequestAnimationFrame(anim);\r\n\t\t\t} else {\r\n\t\t\t\tif (complete != undefined) {\r\n\t\t\t\t\tcomplete();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction easing(timeFraction, ease) {\r\n\t\tswitch (ease) {\r\n\t\t\tcase 'easeInQuad':\r\n\t\t\treturn quad(timeFraction);\r\n\t\t\t\r\n\t\t\tcase 'easeOutQuad':\r\n\t\t\treturn 1 - quad(1 - timeFraction);\r\n\t\t\t\r\n\t\t\tcase 'easeInOutQuad':\r\n\t\t\tif (timeFraction <= 0.5) {\r\n\t\t\t\treturn quad(2 * timeFraction) / 2;\r\n\t\t\t} else {\r\n\t\t\t\treturn (2 - quad(2 * (1 - timeFraction))) / 2;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction quad(timeFraction) {\r\n\t\treturn Math.pow(timeFraction, 2)\r\n\t}\r\n})();","; var MobNav;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\t//fix header\r\n\tvar headerElem = document.querySelector('.header');\r\n\r\n\twindow.addEventListener('scroll', function() {\r\n\t\tif (window.pageYOffset > 21) {\r\n\t\t\theaderElem.classList.add('header_fixed');\r\n\t\t} else if (!document.body.classList.contains('popup-is-opened') && !document.body.classList.contains('mob-nav-is-opened')) {\r\n\t\t\theaderElem.classList.remove('header_fixed');\r\n\t\t}\r\n\t});\r\n\r\n\t//mob menu\r\n\tMobNav = {\r\n\t\toptions: null,\r\n\t\twinScrollTop: 0,\r\n\r\n\t\tfixBody: function(st) {\r\n\t\t\tif (st) {\r\n\t\t\t\tthis.winScrollTop = window.pageYOffset;\r\n\r\n\t\t\t\tdocument.body.classList.add('mob-nav-is-opened');\r\n\t\t\t\tdocument.body.style.top = -this.winScrollTop +'px';\r\n\t\t\t} else {\r\n\t\t\t\tdocument.body.classList.remove('mob-nav-is-opened');\r\n\r\n\t\t\t\tif (this.winScrollTop > 0) {\r\n\t\t\t\t\twindow.scrollTo(0, this.winScrollTop);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\topen: function(btnElem) {\r\n\t\t\tvar headerElem = document.getElementById(this.options.headerId);\r\n\r\n\t\t\tif (!headerElem) return;\r\n\r\n\t\t\tif (btnElem.classList.contains('opened')) {\r\n\t\t\t\tthis.close();\r\n\t\t\t} else {\r\n\t\t\t\tbtnElem.classList.add('opened');\r\n\t\t\t\theaderElem.classList.add('opened');\r\n\t\t\t\tthis.fixBody(true);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tclose: function() {\r\n\t\t\tvar headerElem = document.getElementById(this.options.headerId);\r\n\r\n\t\t\tif (!headerElem) return;\r\n\r\n\t\t\theaderElem.classList.remove('opened');\r\n\r\n\t\t\tvar openBtnElements = document.querySelectorAll(this.options.openBtn);\r\n\r\n\t\t\tfor (var i = 0; i < openBtnElements.length; i++) {\r\n\t\t\t\topenBtnElements[i].classList.remove('opened');\r\n\t\t\t}\r\n\r\n\t\t\tthis.fixBody(false);\r\n\t\t},\r\n\r\n\t\tinit: function(options) {\r\n\t\t\tthis.options = options;\r\n\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar openElem = e.target.closest(options.openBtn),\r\n\t\t\t\tcloseElem = e.target.closest(options.closeBtn),\r\n\t\t\t\tmenuLinkElement = e.target.closest(options.menuLinkSelector);\r\n\r\n\t\t\t\tif (openElem) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tthis.open(openElem);\r\n\t\t\t\t} else if (closeElem) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t} else if (menuLinkElement) {\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n})();","/*\r\n* call Menu.init(Str menu item selector, Str sub menu selector);\r\n*/\r\nvar Menu;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tMenu = {\r\n\t\ttoggle: function(elem, elementStr, subMenuStr) {\r\n\t\t\tvar subMenuElem = elem.querySelector(subMenuStr);\r\n\r\n\t\t\tif (!subMenuElem) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (elem.classList.contains('active')) {\r\n\t\t\t\tsubMenuElem.style.height = 0;\r\n\r\n\t\t\t\telem.classList.remove('active');\r\n\t\t\t} else {\r\n\t\t\t\tvar mainElem = elem.closest('.menu'),\r\n\t\t\t\titemElements = mainElem.querySelectorAll(elementStr),\r\n\t\t\t\tsubMenuElements = mainElem.querySelectorAll(subMenuStr);\r\n\r\n\t\t\t\tfor (var i = 0; i < itemElements.length; i++) {\r\n\t\t\t\t\titemElements[i].classList.remove('accord__button_active');\r\n\t\t\t\t\tsubMenuElements[i].style.height = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsubMenuElem.style.height = subMenuElem.scrollHeight +'px';\r\n\r\n\t\t\t\telem.classList.add('active');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr, subMenuStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.toggle(elem, elementStr, subMenuStr);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n})();","var Popup;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\t// popup core\r\n\tPopup = {\r\n\t\twinScrollTop: 0,\r\n\t\tonClose: null,\r\n\t\theaderSelector: '.header',\r\n\r\n\t\tfixBody: function(st) {\r\n\t\t\tvar headerElem = document.querySelector(this.headerSelector);\r\n\r\n\t\t\tif (st && !document.body.classList.contains('popup-is-opened')) {\r\n\t\t\t\tthis.winScrollTop = window.pageYOffset;\r\n\r\n\t\t\t\tvar offset = window.innerWidth - document.documentElement.clientWidth;\r\n\r\n\t\t\t\tdocument.body.classList.add('popup-is-opened');\r\n\r\n\t\t\t\tif (headerElem) {\r\n\t\t\t\t\theaderElem.style.right = offset +'px';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdocument.body.style.right = offset +'px';\r\n\r\n\t\t\t\tdocument.body.style.top = (-this.winScrollTop) +'px';\r\n\t\t\t} else if (!st) {\r\n\t\t\t\tif (headerElem) {\r\n\t\t\t\t\theaderElem.style.right = '';\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tdocument.body.classList.remove('popup-is-opened');\r\n\r\n\t\t\t\twindow.scrollTo(0, this.winScrollTop);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\topen: function(elementStr, callback) {\r\n\t\t\tvar elem = document.querySelector(elementStr);\r\n\r\n\t\t\tif (!elem || !elem.classList.contains('popup__window')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.close();\r\n\r\n\t\t\tvar elemParent = elem.parentElement;\r\n\t\t\t\r\n\t\t\telemParent.classList.add('popup_visible');\r\n\r\n\t\t\telem.classList.add('popup__window_visible');\r\n\r\n\t\t\tif (callback) {\r\n\t\t\t\tthis.onClose = callback;\r\n\t\t\t}\r\n\r\n\t\t\tthis.fixBody(true);\r\n\r\n\t\t\treturn elem;\r\n\t\t},\r\n\r\n\t\tmessage: function(elementStr, msg, callback) {\r\n\t\t\tvar elem = this.open(elementStr, callback);\r\n\r\n\t\t\telem.querySelector('.popup__inner').innerHTML = '<div class=\"popup__message\">'+ msg +'</div>';\r\n\t\t},\r\n\r\n\t\tclose: function() {\r\n\t\t\tvar elements = document.querySelectorAll('.popup__window');\r\n\r\n\t\t\tif (!elements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (!elem.classList.contains('popup__window_visible')) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\telem.classList.remove('popup__window_visible');\r\n\t\t\t\telem.parentElement.classList.remove('popup_visible');\r\n\t\t\t}\r\n\r\n\t\t\tif (this.onClose) {\r\n\t\t\t\tthis.onClose();\r\n\t\t\t\tthis.onClose = null;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar element = e.target.closest(elementStr),\r\n\t\t\t\tcloseElem = e.target.closest('.js-popup-close');\r\n\r\n\t\t\t\tif (element) {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tthis.open(element.getAttribute('data-popup'));\r\n\t\t\t\t} else if (closeElem || (!e.target.closest('.popup__window') && e.target.closest('.popup'))) {\r\n\t\t\t\t\tthis.fixBody(false);\r\n\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (window.location.hash) {\r\n\t\t\t\tthis.open(window.location.hash);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n})();","; var Placeholder;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tPlaceholder = {\r\n\t\tinit: function(elementsStr) {\r\n\t\t\tvar elements = document.querySelectorAll(elementsStr);\r\n\r\n\t\t\tif (!elements.length) return;\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elem.placeholder) {\r\n\r\n\t\t\t\t\tvar elemFor = (elem.id) ? elem.id : 'placeholder-index-'+ i,\r\n\t\t\t\t\tlabel = document.createElement('label');\r\n\r\n\t\t\t\t\tlabel.htmlFor = elemFor;\r\n\t\t\t\t\tlabel.className = 'placeholder';\r\n\t\t\t\t\tlabel.innerHTML = elem.placeholder;\r\n\r\n\t\t\t\t\telem.parentElement.insertBefore(label, elem);\r\n\r\n\t\t\t\t\telem.removeAttribute('placeholder');\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!elem.id) {\r\n\t\t\t\t\t\telem.id = elemFor;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (elem.value.length) {\r\n\t\t\t\t\tthis.hide(elem, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//events\r\n\t\t\tdocument.addEventListener('focus', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementsStr);\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.hide(elem, true);\r\n\t\t\t\t}\r\n\t\t\t}, true);\r\n\r\n\t\t\tdocument.addEventListener('blur', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementsStr);\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.hide(elem, false);\r\n\t\t\t\t}\r\n\t\t\t}, true);\r\n\t\t},\r\n\t\t\r\n\t\thide: function(elem, hide) {\r\n\t\t\tvar label = document.querySelector('label.placeholder[for=\"'+ elem.id +'\"]');\r\n\r\n\t\t\tif (!label) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar lSt = label.style;\r\n\r\n\t\t\tif (hide) {\r\n\r\n\t\t\t\tlSt.textIndent = '-9999px';\r\n\t\t\t\tlSt.paddingLeft = '0px';\r\n\t\t\t\tlSt.paddingRight = '0px';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (!elem.value.length) {\r\n\t\t\t\t\tlSt.textIndent = '';\r\n\t\t\t\t\tlSt.paddingLeft = '';\r\n\t\t\t\t\tlSt.paddingRight = '';\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//init scripts\r\n\tdocument.addEventListener('DOMContentLoaded', function() {\r\n\t\tPlaceholder.init('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\t});\r\n})();","var ValidateForm, Form;\r\n\r\n(function () {\r\n\t'use strict';\r\n\t\r\n\t// validate form\r\n\tValidateForm = {\r\n\t\tinput: null,\r\n\t\t\r\n\t\terrorTip: function (err, errInd, errorTxt) {\r\n\t\t\tconst field = this.input.closest('.form__field') || this.input.parentElement,\r\n\t\t\terrTip = field.querySelector('.field-error-tip');\r\n\t\t\t\r\n\t\t\tif (err) {\r\n\t\t\t\tfield.classList.remove('field-success');\r\n\t\t\t\tfield.classList.add('field-error');\r\n\t\t\t\t\r\n\t\t\t\tif (!errTip) return;\r\n\t\t\t\t\r\n\t\t\t\tif (errInd) {\r\n\t\t\t\t\tif (!errTip.hasAttribute('data-error-text')) {\r\n\t\t\t\t\t\terrTip.setAttribute('data-error-text', errTip.innerHTML);\r\n\t\t\t\t\t}\r\n\t\t\t\t\terrTip.innerHTML = (errInd != 'custom') ? errTip.getAttribute('data-error-text-'+ errInd) : errorTxt;\r\n\t\t\t\t} else if (errTip.hasAttribute('data-error-text')) {\r\n\t\t\t\t\terrTip.innerHTML = errTip.getAttribute('data-error-text');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfield.classList.remove('field-error');\r\n\t\t\t\tfield.classList.add('field-success');\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tcustomErrorTip: function (input, errorTxt) {\r\n\t\t\tif (!input) return;\r\n\t\t\t\r\n\t\t\tthis.input = input;\r\n\t\t\t\r\n\t\t\tthis.errorTip(true, 'custom', errorTxt);\r\n\t\t},\r\n\t\t\r\n\t\ttxt: function () {\r\n\t\t\tvar err = false;\r\n\t\t\t\r\n\t\t\tif (!/^[0-9a-zа-яё_,.:;@-\\s]*$/i.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\tnum: function () {\r\n\t\t\tvar err = false;\r\n\t\t\t\r\n\t\t\tif (!/^[0-9.,-]*$/.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\tname: function () {\r\n\t\t\tvar err = false;\r\n\t\t\t\r\n\t\t\tif (!/^[a-zа-яё'-]{3,21}(\\s[a-zа-яё'-]{3,21})?(\\s[a-zа-яё'-]{3,21})?$/i.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\tdate: function () {\r\n\t\t\tvar err = false, \r\n\t\t\terrDate = false, \r\n\t\t\tmatches = this.input.value.match(/^(\\d{2}).(\\d{2}).(\\d{4})$/);\r\n\t\t\t\r\n\t\t\tif (!matches) {\r\n\t\t\t\terrDate = 1;\r\n\t\t\t} else {\r\n\t\t\t\tvar compDate = new Date(matches[3], (matches[2] - 1), matches[1]),\r\n\t\t\t\tcurDate = new Date();\r\n\t\t\t\t\r\n\t\t\t\tif (this.input.hasAttribute('data-min-years-passed')) {\r\n\t\t\t\t\tvar interval = curDate.valueOf() - new Date(curDate.getFullYear() - (+this.input.getAttribute('data-min-years-passed')), curDate.getMonth(), curDate.getDate()).valueOf();\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (curDate.valueOf() < compDate.valueOf() || (curDate.getFullYear() - matches[3]) > 100) {\r\n\t\t\t\t\t\terrDate = 1;\r\n\t\t\t\t\t} else if ((curDate.valueOf() - compDate.valueOf()) < interval) {\r\n\t\t\t\t\t\terrDate = 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (compDate.getFullYear() != matches[3] || compDate.getMonth() != (matches[2] - 1) || compDate.getDate() != matches[1]) {\r\n\t\t\t\t\terrDate = 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (errDate == 1) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else if (errDate == 2) {\r\n\t\t\t\tthis.errorTip(true, 3);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\temail: function () {\r\n\t\t\tvar err = false;\r\n\t\t\t\r\n\t\t\tif (!/^[a-z0-9]+[\\w\\-\\.]*@[\\w\\-]{2,}\\.[a-z]{2,6}$/i.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\turl: function () {\r\n\t\t\tvar err = false;\r\n\t\t\t\r\n\t\t\tif (!/^(https?\\:\\/\\/)?[a-zа-я0-9\\-\\.]+\\.[a-zа-я]{2,11}$/i.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\ttel: function () {\r\n\t\t\tvar err = false;\r\n\t\t\t\r\n\t\t\tif (!/^\\+7\\([0-9]{3}\\)[0-9]{3}-[0-9]{2}-[0-9]{2}$/.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\tpass: function () {\r\n\t\t\tvar err = false,\r\n\t\t\tminLng = this.input.getAttribute('data-min-length');\r\n\t\t\t\r\n\t\t\tif (minLng && this.input.value.length < minLng) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\tcheckbox: function (elem) {\r\n\t\t\tthis.input = elem;\r\n\t\t\t\r\n\t\t\tvar group = elem.closest('.form__chbox-group');\r\n\t\t\t\r\n\t\t\tif (group && group.getAttribute('data-tested')) {\r\n\t\t\t\tvar checkedElements = 0,\r\n\t\t\t\telements = group.querySelectorAll('input[type=\"checkbox\"]');\r\n\t\t\t\t\r\n\t\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\t\tif (elements[i].checked) {\r\n\t\t\t\t\t\tcheckedElements++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (checkedElements < group.getAttribute('data-min')) {\r\n\t\t\t\t\tgroup.classList.add('form__chbox-group_error');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgroup.classList.remove('form__chbox-group_error');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t} else if (elem.getAttribute('data-tested')) {\r\n\t\t\t\tif (elem.getAttribute('data-required') && !elem.checked) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tradio: function (elem) {\r\n\t\t\tthis.input = elem;\r\n\t\t\t\r\n\t\t\tvar checkedElement = false,\r\n\t\t\tgroup = elem.closest('.form__radio-group'),\r\n\t\t\telements = group.querySelectorAll('input[type=\"radio\"]');\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tif (elements[i].checked) {\r\n\t\t\t\t\tcheckedElement = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (!checkedElement) {\r\n\t\t\t\tgroup.classList.add('form__radio-group_error');\r\n\t\t\t} else {\r\n\t\t\t\tgroup.classList.remove('form__radio-group_error');\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tselect: function (elem) {\r\n\t\t\tvar err = false;\r\n\t\t\t\r\n\t\t\tthis.input = elem;\r\n\t\t\t\r\n\t\t\tif (elem.getAttribute('data-required') && !elem.value.length) {\r\n\t\t\t\tthis.errorTip(true);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\tfile: function (elem, filesArr) {\r\n\t\t\tthis.input = elem;\r\n\t\t\t\r\n\t\t\tvar err = false,\r\n\t\t\terrCount = {ext: 0, size: 0},\r\n\t\t\tmaxFiles = +this.input.getAttribute('data-max-files'),\r\n\t\t\textRegExp = new RegExp('(?:\\\\.'+ this.input.getAttribute('data-ext').replace(/,/g, '|\\\\.') +')$', 'i'),\r\n\t\t\tmaxSize = +this.input.getAttribute('data-max-size'),\r\n\t\t\tfileItemElements = this.input.closest('.custom-file').querySelectorAll('.custom-file__item');;\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < filesArr.length; i++) {\r\n\t\t\t\tvar file = filesArr[i];\r\n\t\t\t\t\r\n\t\t\t\tif (!file.name.match(extRegExp)) {\r\n\t\t\t\t\terrCount.ext++;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (fileItemElements[i]) {\r\n\t\t\t\t\t\tfileItemElements[i].classList.add('file-error');\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (file.size > maxSize) {\r\n\t\t\t\t\terrCount.size++;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (fileItemElements[i]) {\r\n\t\t\t\t\t\tfileItemElements[i].classList.add('file-error');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (maxFiles && filesArr.length > maxFiles) {\r\n\t\t\t\tthis.errorTip(true, 4);\r\n\t\t\t\terr = true;\r\n\t\t\t} else if (errCount.ext) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else if (errCount.size) {\r\n\t\t\t\tthis.errorTip(true, 3);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\tvalidateOnInput: function (elem) {\r\n\t\t\tthis.input = elem;\r\n\t\t\t\r\n\t\t\tvar dataType = elem.getAttribute('data-type');\r\n\t\t\t\r\n\t\t\tif (elem.getAttribute('data-required') && !elem.value.length) {\r\n\t\t\t\tthis.errorTip(true);\r\n\t\t\t} else if (elem.value.length) {\r\n\t\t\t\tif (dataType) {\r\n\t\t\t\t\tthis[dataType]();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tvalidate: function (formElem) {\r\n\t\t\tvar err = 0;\r\n\t\t\t\r\n\t\t\t// text, password, textarea\r\n\t\t\tvar elements = formElem.querySelectorAll('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\t\t\t\t\r\n\t\t\t\tif (elemIsHidden(elem)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.input = elem;\r\n\t\t\t\t\r\n\t\t\t\telem.setAttribute('data-tested', 'true');\r\n\t\t\t\t\r\n\t\t\t\tvar dataType = elem.getAttribute('data-type');\r\n\t\t\t\t\r\n\t\t\t\tif (elem.getAttribute('data-required') && !elem.value.length) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else if (elem.value.length) {\r\n\t\t\t\t\tif (dataType) {\r\n\t\t\t\t\t\tif (this[dataType]()) {\r\n\t\t\t\t\t\t\terr++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// select\r\n\t\t\tvar elements = formElem.querySelectorAll('.custom-select__input');\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\t\t\t\t\r\n\t\t\t\tif (elemIsHidden(elem.parentElement)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (this.select(elem)) {\r\n\t\t\t\t\terr++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// checkboxes\r\n\t\t\tvar elements = formElem.querySelectorAll('input[type=\"checkbox\"]');\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\t\t\t\t\r\n\t\t\t\tif (elemIsHidden(elem)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.input = elem;\r\n\t\t\t\t\r\n\t\t\t\telem.setAttribute('data-tested', 'true');\r\n\t\t\t\t\r\n\t\t\t\tif (elem.getAttribute('data-required') && !elem.checked) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// checkbox group\r\n\t\t\tvar groups = formElem.querySelectorAll('.form__chbox-group');\r\n\t\t\t\r\n\t\t\tfor (let i = 0; i < groups.length; i++) {\r\n\t\t\t\tvar group = groups[i],\r\n\t\t\t\tcheckedElements = 0;\r\n\t\t\t\t\r\n\t\t\t\tif (elemIsHidden(group)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tgroup.setAttribute('data-tested', 'true');\r\n\t\t\t\t\r\n\t\t\t\tvar elements = group.querySelectorAll('input[type=\"checkbox\"]');\r\n\t\t\t\t\r\n\t\t\t\tfor (let i = 0; i < elements.length; i++) {\r\n\t\t\t\t\tif (elements[i].checked) {\r\n\t\t\t\t\t\tcheckedElements++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (checkedElements < group.getAttribute('data-min')) {\r\n\t\t\t\t\tgroup.classList.add('form__chbox-group_error');\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgroup.classList.remove('form__chbox-group_error');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// radio group\r\n\t\t\tvar groups = formElem.querySelectorAll('.form__radio-group');\r\n\t\t\t\r\n\t\t\tfor (let i = 0; i < groups.length; i++) {\r\n\t\t\t\tvar group = groups[i],\r\n\t\t\t\tcheckedElement = false;\r\n\t\t\t\t\r\n\t\t\t\tif (elemIsHidden(group)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tgroup.setAttribute('data-tested', 'true');\r\n\t\t\t\t\r\n\t\t\t\tvar elements = group.querySelectorAll('input[type=\"radio\"]');\r\n\t\t\t\t\r\n\t\t\t\tfor (let i = 0; i < elements.length; i++) {\r\n\t\t\t\t\tif (elements[i].checked) {\r\n\t\t\t\t\t\tcheckedElement = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (!checkedElement) {\r\n\t\t\t\t\tgroup.classList.add('form__radio-group_error');\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgroup.classList.remove('form__radio-group_error');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// file\r\n\t\t\tvar elements = formElem.querySelectorAll('input[type=\"file\"]');\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\t\t\t\t\r\n\t\t\t\tif (elemIsHidden(elem)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.input = elem;\r\n\t\t\t\t\r\n\t\t\t\tif (CustomFile.inputFiles(elem).length) {\r\n\t\t\t\t\tif (this.file(elem, CustomFile.inputFiles(elem))) {\r\n\t\t\t\t\t\terr++;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (elem.getAttribute('data-required')) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// passwords compare\r\n\t\t\tvar elements = formElem.querySelectorAll('input[data-pass-compare-input]');\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\t\t\t\t\r\n\t\t\t\tif (elemIsHidden(elem)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.input = elem;\r\n\t\t\t\t\r\n\t\t\t\tvar val = elem.value;\r\n\t\t\t\t\r\n\t\t\t\tif (val.length) {\r\n\t\t\t\t\tvar compElemVal = formElem.querySelector(elem.getAttribute('data-pass-compare-input')).value;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (val !== compElemVal) {\r\n\t\t\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\t\t\terr++;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (err) {\r\n\t\t\t\tformElem.classList.add('form-error');\r\n\t\t\t} else {\r\n\t\t\t\tformElem.classList.remove('form-error');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn (err) ? false : true;\r\n\t\t},\r\n\t\t\r\n\t\tinit: function (formSelector) {\r\n\t\t\tdocument.addEventListener('input', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(formSelector +' input[type=\"text\"],'+ formSelector +' input[type=\"password\"],'+ formSelector +' textarea');\r\n\t\t\t\t\r\n\t\t\t\tif (elem && elem.hasAttribute('data-tested')) {\r\n\t\t\t\t\tthis.validateOnInput(elem);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tdocument.addEventListener('change', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(formSelector +' input[type=\"radio\"],'+ formSelector +' input[type=\"checkbox\"]');\r\n\t\t\t\t\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis[elem.type](elem);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\t// variable height textarea\r\n\tvar varHeightTextarea = {\r\n\t\tsetHeight: function (elem) {\r\n\t\t\tvar mirror = elem.parentElement.querySelector('.var-height-textarea__mirror'),\r\n\t\t\tmirrorOutput = elem.value.replace(/\\n/g, '<br>');\r\n\t\t\t\r\n\t\t\tmirror.innerHTML = mirrorOutput +'&nbsp;';\r\n\t\t},\r\n\t\t\r\n\t\tinit: function () {\r\n\t\t\tdocument.addEventListener('input', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('.var-height-textarea__textarea');\r\n\t\t\t\t\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.setHeight(elem);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\t// next fieldset\r\n\tvar NextFieldset = {\r\n\t\tnext: function (btnElem, fwd) {\r\n\t\t\tvar nextFieldset = (btnElem.hasAttribute('data-go-to-fieldset')) ? document.querySelector(btnElem.getAttribute('data-go-to-fieldset')) : null;\r\n\t\t\t\r\n\t\t\tif (!nextFieldset) return;\r\n\t\t\t\r\n\t\t\tvar currentFieldset = btnElem.closest('.fieldset__item'),\r\n\t\t\tgoTo = (fwd) ? ValidateForm.validate(currentFieldset) : true;\r\n\t\t\t\r\n\t\t\tif (goTo) {\r\n\t\t\t\tcurrentFieldset.classList.add('fieldset__item_hidden');\r\n\t\t\t\tnextFieldset.classList.remove('fieldset__item_hidden');\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tinit: function (nextBtnSelector, prevBtnSelector) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar nextBtnElem = e.target.closest(nextBtnSelector),\r\n\t\t\t\tprevBtnElem = e.target.closest(prevBtnSelector);\r\n\t\t\t\t\r\n\t\t\t\tif (nextBtnElem) {\r\n\t\t\t\t\tthis.next(nextBtnElem, true);\r\n\t\t\t\t} else if (prevBtnElem) {\r\n\t\t\t\t\tthis.next(prevBtnElem, false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\t// form\r\n\tForm = {\r\n\t\tonSubmit: null,\r\n\t\t\r\n\t\tsubmit: function (e, formElem) {\r\n\t\t\tformElem.classList.add('form_sending');\r\n\t\t\t\r\n\t\t\tif (!this.onSubmit) {\r\n\t\t\t\tformElem.submit();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// clear form\r\n\t\t\tfunction clear() {\r\n\t\t\t\tvar elements = formElem.querySelectorAll('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\t\t\t\t\r\n\t\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\t\tvar elem = elements[i];\r\n\t\t\t\t\t\r\n\t\t\t\t\telem.value = '';\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (window.Placeholder) {\r\n\t\t\t\t\t\tPlaceholder.hide(elem, false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (window.Select) {\r\n\t\t\t\t\tSelect.reset();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tvar textareaMirrors = formElem.querySelectorAll('.form__textarea-mirror');\r\n\t\t\t\t\r\n\t\t\t\tfor (var i = 0; i < textareaMirrors.length; i++) {\r\n\t\t\t\t\ttextareaMirrors[i].innerHTML = '';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// submit button\r\n\t\t\tfunction actSubmitBtn(st) {\r\n\t\t\t\tvar elements = formElem.querySelectorAll('button[type=\"submit\"], input[type=\"submit\"]');\r\n\t\t\t\t\r\n\t\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\t\tvar elem = elements[i];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!elemIsHidden(elem)) {\r\n\t\t\t\t\t\tif (st) {\r\n\t\t\t\t\t\t\telem.removeAttribute('disabled');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\telem.setAttribute('disabled', 'disable');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// call onSubmit\r\n\t\t\tvar ret = this.onSubmit(formElem, function (obj) {\r\n\t\t\t\tobj = obj || {};\r\n\t\t\t\t\r\n\t\t\t\tactSubmitBtn(obj.unlockSubmitButton);\r\n\t\t\t\t\r\n\t\t\t\tformElem.classList.remove('form_sending');\r\n\t\t\t\t\r\n\t\t\t\tif (obj.clearForm == true) {\r\n\t\t\t\t\tclear();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tif (ret === false) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tactSubmitBtn(false);\r\n\t\t\t} else {\r\n\t\t\t\tformElem.submit();\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tinit: function (formSelector) {\r\n\t\t\tif (!document.querySelector(formSelector)) return;\r\n\t\t\t\r\n\t\t\tValidateForm.init(formSelector);\r\n\t\t\t\r\n\t\t\t// submit event\r\n\t\t\tdocument.addEventListener('submit', (e) => {\r\n\t\t\t\tvar formElem = e.target.closest(formSelector);\r\n\t\t\t\t\r\n\t\t\t\tif (!formElem) return;\r\n\t\t\t\t\r\n\t\t\t\tif (ValidateForm.validate(formElem)) {\r\n\t\t\t\t\tthis.submit(e, formElem);\r\n\t\t\t\t} else {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t// keyboard event\r\n\t\t\tdocument.addEventListener('keydown', (e) => {\r\n\t\t\t\tvar formElem = e.target.closest(formSelector);\r\n\t\t\t\t\r\n\t\t\t\tif (!formElem) return;\r\n\t\t\t\t\r\n\t\t\t\tvar key = e.which || e.keyCode || 0;\r\n\t\t\t\t\r\n\t\t\t\tif (e.ctrlKey && key == 13) {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tif (ValidateForm.validate(formElem)) {\r\n\t\t\t\t\t\tthis.submit(e, formElem);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\t// bind labels\r\n\tfunction BindLabels(elementsStr) {\r\n\t\tvar elements = document.querySelectorAll(elementsStr);\r\n\t\t\r\n\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\tvar elem = elements[i],\r\n\t\t\tlabel = elem.parentElement.querySelector('label'),\r\n\t\t\tforID = (elem.hasAttribute('id')) ? elem.id : 'keylabel-'+ i;\r\n\t\t\t\r\n\t\t\tif (label && !label.hasAttribute('for')) {\r\n\t\t\t\tlabel.htmlFor = forID;\r\n\t\t\t\telem.id = forID;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t// duplicate form\r\n\tvar DuplicateForm = {\r\n\t\tadd: function (btnElem) {\r\n\t\t\tvar modelElem = (btnElem.hasAttribute('data-form-model')) ? document.querySelector(btnElem.getAttribute('data-form-model')) : null,\r\n\t\t\tdestElem = (btnElem.hasAttribute('data-duplicated-dest')) ? document.querySelector(btnElem.getAttribute('data-duplicated-dest')) : null;\r\n\t\t\t\r\n\t\t\tif (!modelElem || !destElem) return;\r\n\t\t\t\r\n\t\t\tvar duplicatedDiv = document.createElement('div');\r\n\t\t\t\r\n\t\t\tduplicatedDiv.className = 'duplicated';\r\n\t\t\t\r\n\t\t\tduplicatedDiv.innerHTML = modelElem.innerHTML;\r\n\t\t\t\r\n\t\t\tdestElem.appendChild(duplicatedDiv);\r\n\t\t\t\r\n\t\t\tvar dupicatedElements = destElem.querySelectorAll('.duplicated');\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < dupicatedElements.length; i++) {\r\n\t\t\t\tvar dupicatedElem = dupicatedElements[i],\r\n\t\t\t\tlabelElements = dupicatedElem.querySelectorAll('label'),\r\n\t\t\t\tinputElements = dupicatedElem.querySelectorAll('input');\r\n\t\t\t\t\r\n\t\t\t\tfor (var j = 0; j < labelElements.length; j++) {\r\n\t\t\t\t\tvar elem = labelElements[j];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (elem.htmlFor != '') {\r\n\t\t\t\t\t\telem.htmlFor += '-'+ i +'-'+ j;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfor (var j = 0; j < inputElements.length; j++) {\r\n\t\t\t\t\tvar elem = inputElements[j];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (elem.id != '') {\r\n\t\t\t\t\t\telem.id += '-'+ i +'-'+ j;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tremove: function (btnElem) {\r\n\t\t\tvar duplElem =  btnElem.closest('.duplicated');\r\n\t\t\t\r\n\t\t\tif (duplElem) {\r\n\t\t\t\tduplElem.innerHTML = '';\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tinit: function (addBtnSelector, removeBtnSelector) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar addBtnElem = e.target.closest(addBtnSelector),\r\n\t\t\t\tremoveBtnElem = e.target.closest(removeBtnSelector);\r\n\t\t\t\t\r\n\t\t\t\tif (addBtnElem) {\r\n\t\t\t\t\tthis.add(addBtnElem);\r\n\t\t\t\t} else if (removeBtnElem) {\r\n\t\t\t\t\tthis.remove(removeBtnElem);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\t// set tabindex\r\n\t/*function SetTabindex(elementsStr) {\r\n\t\tvar elements = document.querySelectorAll(elementsStr);\r\n\t\t\r\n\t\tfor (let i = 0; i < elements.length; i++) {\r\n\t\t\tvar elem = elements[i];\r\n\t\t\t\r\n\t\t\tif (!elemIsHidden(elem)) {\r\n\t\t\t\telem.setAttribute('tabindex', i + 1);\r\n\t\t\t}\r\n\t\t}\r\n\t}*/\r\n\t\r\n\t// init scripts\r\n\tdocument.addEventListener('DOMContentLoaded', function () {\r\n\t\tBindLabels('input[type=\"text\"], input[type=\"checkbox\"], input[type=\"radio\"]');\r\n\t\t// SetTabindex('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\t\tvarHeightTextarea.init();\r\n\t\tNextFieldset.init('.js-next-fieldset-btn', '.js-prev-fieldset-btn');\r\n\t\tDuplicateForm.init('.js-dupicate-form-btn', '.js-remove-dupicated-form-btn');\r\n\t});\r\n})();","/*\r\nAnchor.init(Str anchor selector[, Int duration ms[, Int shift px]]);\r\n*/\r\n\r\nvar Anchor;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tAnchor = {\r\n\t\tduration: 1000,\r\n\t\tshift: 0,\r\n\r\n\t\tscroll: function(anchorId, e) {\r\n\t\t\tvar anchorSectionElem = document.getElementById(anchorId +'-anchor');\r\n\r\n\t\t\tif (!anchorSectionElem) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (e) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\r\n\t\t\tvar scrollTo = anchorSectionElem.getBoundingClientRect().top + window.pageYOffset,\r\n\t\t\tscrollTo = scrollTo - this.shift;\r\n\r\n\t\t\tanimate(function(progress) {\r\n\t\t\t\twindow.scrollTo(0, ((scrollTo * progress) + ((1 - progress) * window.pageYOffset)));\r\n\t\t\t}, this.duration, 'easeInOutQuad');\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr, duration, shift) {\r\n\t\t\tif (duration) {\r\n\t\t\t\tthis.duration = duration;\r\n\t\t\t}\r\n\r\n\t\t\tif (shift) {\r\n\t\t\t\tthis.shift = shift;\r\n\t\t\t}\r\n\r\n\t\t\t//click anchor\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.scroll(elem.getAttribute('href').split('#')[1], e);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t//hash anchor\r\n\t\t\tif (window.location.hash) {\r\n\t\t\t\twindow.addEventListener('load', () => {\r\n\t\t\t\t\tthis.scroll(window.location.hash.split('#')[1]);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n})();","/*\r\nnew Alert({\r\n\tcontent: 'We use coockie',\r\n\tposition: 'top', // default - bottom\r\n\tshowOnce: true // default - false\r\n});\r\n*/\r\n\r\n; var Alert;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tvar alertIndex = 0;\r\n\r\n\tAlert = function (opt) {\r\n\t\topt = opt || {};\r\n\r\n\t\tvar alertId = 'alert-id-'+ (alertIndex++);\r\n\r\n\t\tif (opt.showOnce) {\r\n\t\t\tlet hiddenAlert = window.localStorage.getItem('notShowAlert='+ alertId);\r\n\r\n\t\t\tif (hiddenAlert !== null && hiddenAlert === 'true') {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//add alert to DOM\r\n\t\tvar alertElem = document.createElement('div');\r\n\r\n\t\talertElem.className = 'alert';\r\n\r\n\t\talertElem.id = alertId;\r\n\r\n\t\talertElem.innerHTML = '<div></div><button class=\"alert-close-btn\"></button>';\r\n\r\n\t\tdocument.body.appendChild(alertElem);\r\n\r\n\t\tif (opt.position == 'top') {\r\n\t\t\talertElem.classList.add('alert_top');\r\n\t\t}\r\n\t\t\r\n\t\t// set content\r\n\t\tthis.setContent = function (content) {\r\n\t\t\talertElem.querySelector('div').innerHTML = content;\r\n\t\t}\r\n\r\n\t\tif (opt.content) {\r\n\t\t\tthis.setContent(opt.content);\r\n\t\t}\r\n\r\n\t\t// hide permanently\r\n\t\tfunction hidePermanently() {\r\n\t\t\twindow.localStorage.setItem('notShowAlert='+ alertId, 'true');\r\n\t\t}\r\n\r\n\t\t// hide\r\n\t\tfunction hide() {\r\n\t\t\talertElem.classList.add('alert_hidden');\r\n\t\t\t\r\n\t\t\tif (opt.showOnce) {\r\n\t\t\t\thidePermanently();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\talertElem.querySelector('.alert-close-btn').addEventListener('click', hide);\r\n\t}\r\n})();"]}