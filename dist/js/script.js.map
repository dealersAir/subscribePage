{"version":3,"sources":["global.js","popup.js","placeholder.js","form.js","alert.js"],"names":["browser","elemIsHidden","ajax","animate","document","documentElement","setAttribute","navigator","userAgent","toLowerCase","test","CustomEvent","e","window","event","params","evt","bubbles","cancelable","detail","undefined","createEvent","initCustomEvent","prototype","Object","create","Event","winResizedEvent","rsz","addEventListener","setTimeout","dispatchEvent","Element","closest","ElProto","matches","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","selector","parentElement","elem","compStyle","getComputedStyle","display","visibility","opacity","options","xhr","XMLHttpRequest","open","url","send","setRequestHeader","onreadystatechange","readyState","status","success","response","error","draw","duration","ease","complete","start","performance","now","requestAnimationFrame","anim","time","timeFraction","progress","easing","quad","Math","pow","Popup","winScrollTop","onClose","headerSelector","fixBody","st","headerElem","querySelector","body","classList","contains","pageYOffset","offset","innerWidth","clientWidth","add","style","right","top","remove","scrollTo","elementStr","callback","close","elemParent","message","msg","innerHTML","elements","querySelectorAll","length","i","init","element","target","closeElem","preventDefault","getAttribute","location","hash","Placeholder","elementsStr","placeholder","elemFor","id","label","createElement","htmlFor","className","insertBefore","removeAttribute","value","hide","lSt","textIndent","paddingLeft","paddingRight","ValidateForm","Form","input","errorTip","err","errInd","errorTxt","field","errTip","hasAttribute","customErrorTip","txt","num","name","date","errDate","match","compDate","Date","curDate","interval","valueOf","getFullYear","getMonth","getDate","email","tel","pass","minLng","checkbox","group","checkedElements","checked","radio","checkedElement","select","file","filesArr","errCount","ext","size","maxFiles","extRegExp","RegExp","replace","maxSize","fileItemElements","validateOnInput","dataType","validate","formElem","groups","CustomFile","inputFiles","val","compElemVal","formSelector","type","varHeightTextarea","setHeight","mirror","mirrorOutput","NextFieldset","next","btnElem","fwd","nextFieldset","currentFieldset","goTo","nextBtnSelector","prevBtnSelector","nextBtnElem","prevBtnElem","onSubmit","submit","clear","Select","reset","textareaMirrors","actSubmitBtn","ret","obj","unlockSubmitButton","clearForm","key","which","keyCode","ctrlKey","BindLabels","forID","DuplicateForm","modelElem","destElem","duplicatedDiv","appendChild","dupicatedElements","dupicatedElem","labelElements","inputElements","j","duplElem","addBtnSelector","removeBtnSelector","addBtnElem","removeBtnElem","Alert","alertIndex","opt","alertId","showOnce","hiddenAlert","localStorage","getItem","alertElem","position","setContent","content","hidePermanently","setItem"],"mappings":"AAAA;AACA,CAAE,IAAIA,OAAJ,EAAaC,YAAb,EAA2BC,IAA3B,EAAiCC,OAAjC;;AAEF,CAAC,YAAW;AACX;;AAEA;;AACAC,UAASC,eAAT,CAAyBC,YAAzB,CAAsC,gBAAtC,EAAwDC,UAAUC,SAAV,CAAoBC,WAApB,EAAxD;;AAEA;AACAT,WAAW,UAASQ,SAAT,EAAoB;AAC9BA,cAAYA,UAAUC,WAAV,EAAZ;;AAEA,MAAI,kBAAkBC,IAAlB,CAAuBF,SAAvB,CAAJ,EAAuC;AACtC,UAAO,IAAP;AACA;AACD,EANS,CAMPD,UAAUC,SANH,CAAV;;AAQA;AACA,KAAI;AACH,MAAIG,WAAJ,CAAgB,qDAAhB;AACA,EAFD,CAEE,OAAOC,CAAP,EAAU;AACXC,SAAOF,WAAP,GAAqB,UAASG,KAAT,EAAgBC,MAAhB,EAAwB;AAC5C,OAAIC,GAAJ;;AAEAD,YAASA,UAAU;AAClBE,aAAS,KADS;AAElBC,gBAAY,KAFM;AAGlBC,YAAQC;AAHU,IAAnB;;AAMAJ,SAAMZ,SAASiB,WAAT,CAAqB,aAArB,CAAN;;AAEAL,OAAIM,eAAJ,CAAoBR,KAApB,EAA2BC,OAAOE,OAAlC,EAA2CF,OAAOG,UAAlD,EAA8DH,OAAOI,MAArE;;AAEA,UAAOH,GAAP;AACA,GAdD;;AAgBAL,cAAYY,SAAZ,GAAwBC,OAAOC,MAAP,CAAcZ,OAAOa,KAAP,CAAaH,SAA3B,CAAxB;AACA;;AAED;AACA,KAAII,kBAAkB,IAAIhB,WAAJ,CAAgB,YAAhB,CAAtB;AAAA,KACAiB,MAAM,IADN;;AAGAf,QAAOgB,gBAAP,CAAwB,QAAxB,EAAkC,YAAW;AAC5C,MAAID,GAAJ,EAAS;AACRA,SAAM,KAAN;;AAEAE,cAAW,YAAW;AACrBjB,WAAOkB,aAAP,CAAqBJ,eAArB;AACAC,UAAM,IAAN;AACA,IAHD,EAGG,IAHH;AAIA;AACD,EATD;;AAWA;AACA,KAAI,CAACI,QAAQT,SAAR,CAAkBU,OAAvB,EAAgC;AAC/B,GAAC,UAASC,OAAT,EAAkB;AAClBA,WAAQC,OAAR,GAAkBD,QAAQC,OAAR,IAAmBD,QAAQE,kBAA3B,IAAiDF,QAAQG,iBAAzD,IAA8EH,QAAQI,gBAAtF,IAA0GJ,QAAQK,qBAApI;;AAEAL,WAAQD,OAAR,GAAkBC,QAAQD,OAAR,IAAmB,SAASA,OAAT,CAAiBO,QAAjB,EAA2B;AAC/D,QAAI,CAAC,IAAL,EAAW;AACV,YAAO,IAAP;AACA;;AAED,QAAI,KAAKL,OAAL,CAAaK,QAAb,CAAJ,EAA4B;AAC3B,YAAO,IAAP;AACA;;AAED,QAAI,CAAC,KAAKC,aAAV,EAAyB;AACxB,YAAO,IAAP;AACA,KAFD,MAEO;AACN,YAAO,KAAKA,aAAL,CAAmBR,OAAnB,CAA2BO,QAA3B,CAAP;AACA;AACD,IAdD;AAeA,GAlBD,EAkBGR,QAAQT,SAlBX;AAmBA;;AAED;AACAtB,gBAAe,sBAASyC,IAAT,EAAe;AAC7B,SAAOA,IAAP,EAAa;AACZ,OAAI,CAACA,IAAL,EAAW;;AAEX,OAAMC,YAAYC,iBAAiBF,IAAjB,CAAlB;;AAEA,OAAIC,UAAUE,OAAV,IAAqB,MAArB,IAA+BF,UAAUG,UAAV,IAAwB,QAAvD,IAAmEH,UAAUI,OAAV,IAAqB,GAA5F,EAAiG,OAAO,IAAP;;AAEjGL,UAAOA,KAAKD,aAAZ;AACA;;AAED,SAAO,KAAP;AACA,EAZD;;AAcA;AACAvC,QAAO,cAAS8C,OAAT,EAAkB;AACxB,MAAIC,MAAM,IAAIC,cAAJ,EAAV;;AAEAD,MAAIE,IAAJ,CAAS,MAAT,EAAiBH,QAAQI,GAAzB;;AAEA,MAAI,OAAOJ,QAAQK,IAAf,IAAuB,QAA3B,EAAqC;AACpCJ,OAAIK,gBAAJ,CAAqB,cAArB,EAAqC,mCAArC;AACA;;AAEDL,MAAIM,kBAAJ,GAAyB,YAAW;AACnC,OAAIN,IAAIO,UAAJ,IAAkB,CAAlB,IAAuBP,IAAIQ,MAAJ,IAAc,GAAzC,EAA8C;AAC7CT,YAAQU,OAAR,CAAgBT,IAAIU,QAApB;AACA,IAFD,MAEO,IAAIV,IAAIO,UAAJ,IAAkB,CAAlB,IAAuBP,IAAIQ,MAAJ,IAAc,GAAzC,EAA8C;AACpDT,YAAQY,KAAR,CAAcX,IAAIU,QAAlB;AACA;AACD,GAND;;AAQAV,MAAII,IAAJ,CAASL,QAAQK,IAAjB;AACA,EAlBD;;AAoBA;;;;AAIAlD,WAAU,iBAAS0D,IAAT,EAAeC,QAAf,EAAyBC,IAAzB,EAA+BC,QAA/B,EAAyC;AAClD,MAAIC,QAAQC,YAAYC,GAAZ,EAAZ;;AAEAC,wBAAsB,SAASC,IAAT,CAAcC,IAAd,EAAoB;AACzC,OAAIC,eAAe,CAACD,OAAOL,KAAR,IAAiBH,QAApC;;AAEA,OAAIS,eAAe,CAAnB,EAAsB;AACrBA,mBAAe,CAAf;AACA;;AAED,OAAIC,WAAYT,IAAD,GAASU,OAAOF,YAAP,EAAqBR,IAArB,CAAT,GAAsCQ,YAArD;;AAEAV,QAAKW,QAAL;;AAEA,OAAID,eAAe,CAAnB,EAAsB;AACrBH,0BAAsBC,IAAtB;AACA,IAFD,MAEO;AACN,QAAIL,YAAY5C,SAAhB,EAA2B;AAC1B4C;AACA;AACD;AACD,GAlBD;AAmBA,EAtBD;;AAwBA,UAASS,MAAT,CAAgBF,YAAhB,EAA8BR,IAA9B,EAAoC;AACnC,UAAQA,IAAR;AACC,QAAK,YAAL;AACA,WAAOW,KAAKH,YAAL,CAAP;;AAEA,QAAK,aAAL;AACA,WAAO,IAAIG,KAAK,IAAIH,YAAT,CAAX;;AAEA,QAAK,eAAL;AACA,QAAIA,gBAAgB,GAApB,EAAyB;AACxB,YAAOG,KAAK,IAAIH,YAAT,IAAyB,CAAhC;AACA,KAFD,MAEO;AACN,YAAO,CAAC,IAAIG,KAAK,KAAK,IAAIH,YAAT,CAAL,CAAL,IAAqC,CAA5C;AACA;AAZF;AAcA;;AAED,UAASG,IAAT,CAAcH,YAAd,EAA4B;AAC3B,SAAOI,KAAKC,GAAL,CAASL,YAAT,EAAuB,CAAvB,CAAP;AACA;AACD,CAhKD;ACHA,IAAIM,KAAJ;;AAEA,CAAC,YAAW;AACX;;AAEA;;AACAA,SAAQ;AACPC,gBAAc,CADP;AAEPC,WAAS,IAFF;AAGPC,kBAAgB,SAHT;;AAKPC,WAAS,iBAASC,EAAT,EAAa;AACrB,OAAIC,aAAa/E,SAASgF,aAAT,CAAuB,KAAKJ,cAA5B,CAAjB;;AAEA,OAAIE,MAAM,CAAC9E,SAASiF,IAAT,CAAcC,SAAd,CAAwBC,QAAxB,CAAiC,iBAAjC,CAAX,EAAgE;AAC/D,SAAKT,YAAL,GAAoBjE,OAAO2E,WAA3B;;AAEA,QAAIC,SAAS5E,OAAO6E,UAAP,GAAoBtF,SAASC,eAAT,CAAyBsF,WAA1D;;AAEAvF,aAASiF,IAAT,CAAcC,SAAd,CAAwBM,GAAxB,CAA4B,iBAA5B;;AAEA,QAAIT,UAAJ,EAAgB;AACfA,gBAAWU,KAAX,CAAiBC,KAAjB,GAAyBL,SAAQ,IAAjC;AACA;;AAEDrF,aAASiF,IAAT,CAAcQ,KAAd,CAAoBC,KAApB,GAA4BL,SAAQ,IAApC;;AAEArF,aAASiF,IAAT,CAAcQ,KAAd,CAAoBE,GAApB,GAA2B,CAAC,KAAKjB,YAAP,GAAsB,IAAhD;AACA,IAdD,MAcO,IAAI,CAACI,EAAL,EAAS;AACf,QAAIC,UAAJ,EAAgB;AACfA,gBAAWU,KAAX,CAAiBC,KAAjB,GAAyB,EAAzB;AACA;;AAED1F,aAASiF,IAAT,CAAcC,SAAd,CAAwBU,MAAxB,CAA+B,iBAA/B;;AAEAnF,WAAOoF,QAAP,CAAgB,CAAhB,EAAmB,KAAKnB,YAAxB;AACA;AACD,GA/BM;;AAiCP3B,QAAM,cAAS+C,UAAT,EAAqBC,QAArB,EAA+B;AACpC,OAAIzD,OAAOtC,SAASgF,aAAT,CAAuBc,UAAvB,CAAX;;AAEA,OAAI,CAACxD,IAAD,IAAS,CAACA,KAAK4C,SAAL,CAAeC,QAAf,CAAwB,eAAxB,CAAd,EAAwD;AACvD;AACA;;AAED,QAAKa,KAAL;;AAEA,OAAIC,aAAa3D,KAAKD,aAAtB;;AAEA4D,cAAWf,SAAX,CAAqBM,GAArB,CAAyB,eAAzB;;AAEAlD,QAAK4C,SAAL,CAAeM,GAAf,CAAmB,uBAAnB;;AAEA,OAAIO,QAAJ,EAAc;AACb,SAAKpB,OAAL,GAAeoB,QAAf;AACA;;AAED,QAAKlB,OAAL,CAAa,IAAb;;AAEA,UAAOvC,IAAP;AACA,GAvDM;;AAyDP4D,WAAS,iBAASJ,UAAT,EAAqBK,GAArB,EAA0BJ,QAA1B,EAAoC;AAC5C,OAAIzD,OAAO,KAAKS,IAAL,CAAU+C,UAAV,EAAsBC,QAAtB,CAAX;;AAEAzD,QAAK0C,aAAL,CAAmB,eAAnB,EAAoCoB,SAApC,GAAgD,iCAAgCD,GAAhC,GAAqC,QAArF;AACA,GA7DM;;AA+DPH,SAAO,iBAAW;AACjB,OAAIK,WAAWrG,SAASsG,gBAAT,CAA0B,gBAA1B,CAAf;;AAEA,OAAI,CAACD,SAASE,MAAd,EAAsB;AACrB;AACA;;AAED,QAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIH,SAASE,MAA7B,EAAqCC,GAArC,EAA0C;AACzC,QAAIlE,OAAO+D,SAASG,CAAT,CAAX;;AAEA,QAAI,CAAClE,KAAK4C,SAAL,CAAeC,QAAf,CAAwB,uBAAxB,CAAL,EAAuD;AACtD;AACA;;AAED7C,SAAK4C,SAAL,CAAeU,MAAf,CAAsB,uBAAtB;AACAtD,SAAKD,aAAL,CAAmB6C,SAAnB,CAA6BU,MAA7B,CAAoC,eAApC;AACA;;AAED,OAAI,KAAKjB,OAAT,EAAkB;AACjB,SAAKA,OAAL;AACA,SAAKA,OAAL,GAAe,IAAf;AACA;AACD,GArFM;;AAuFP8B,QAAM,cAASX,UAAT,EAAqB;AAAA;;AAC1B9F,YAASyB,gBAAT,CAA0B,OAA1B,EAAmC,UAACjB,CAAD,EAAO;AACzC,QAAIkG,UAAUlG,EAAEmG,MAAF,CAAS9E,OAAT,CAAiBiE,UAAjB,CAAd;AAAA,QACAc,YAAYpG,EAAEmG,MAAF,CAAS9E,OAAT,CAAiB,iBAAjB,CADZ;;AAGA,QAAI6E,OAAJ,EAAa;AACZlG,OAAEqG,cAAF;;AAEA,WAAK9D,IAAL,CAAU2D,QAAQI,YAAR,CAAqB,YAArB,CAAV;AACA,KAJD,MAIO,IAAIF,aAAc,CAACpG,EAAEmG,MAAF,CAAS9E,OAAT,CAAiB,gBAAjB,CAAD,IAAuCrB,EAAEmG,MAAF,CAAS9E,OAAT,CAAiB,QAAjB,CAAzD,EAAsF;AAC5F,WAAKgD,OAAL,CAAa,KAAb;;AAEA,WAAKmB,KAAL;AACA;AACD,IAbD;;AAeA,OAAIvF,OAAOsG,QAAP,CAAgBC,IAApB,EAA0B;AACzB,SAAKjE,IAAL,CAAUtC,OAAOsG,QAAP,CAAgBC,IAA1B;AACA;AACD;AA1GM,EAAR;AA4GA,CAhHD;ACFA,CAAE,IAAIC,WAAJ;;AAEF,CAAC,YAAW;AACX;;AAEAA,eAAc;AACbR,QAAM,cAASS,WAAT,EAAsB;AAAA;;AAC3B,OAAIb,WAAWrG,SAASsG,gBAAT,CAA0BY,WAA1B,CAAf;;AAEA,OAAI,CAACb,SAASE,MAAd,EAAsB;;AAEtB,QAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIH,SAASE,MAA7B,EAAqCC,GAArC,EAA0C;AACzC,QAAIlE,OAAO+D,SAASG,CAAT,CAAX;;AAEA,QAAIlE,KAAK6E,WAAT,EAAsB;;AAErB,SAAIC,UAAW9E,KAAK+E,EAAN,GAAY/E,KAAK+E,EAAjB,GAAsB,uBAAsBb,CAA1D;AAAA,SACAc,QAAQtH,SAASuH,aAAT,CAAuB,OAAvB,CADR;;AAGAD,WAAME,OAAN,GAAgBJ,OAAhB;AACAE,WAAMG,SAAN,GAAkB,aAAlB;AACAH,WAAMlB,SAAN,GAAkB9D,KAAK6E,WAAvB;;AAEA7E,UAAKD,aAAL,CAAmBqF,YAAnB,CAAgCJ,KAAhC,EAAuChF,IAAvC;;AAEAA,UAAKqF,eAAL,CAAqB,aAArB;;AAEA,SAAI,CAACrF,KAAK+E,EAAV,EAAc;AACb/E,WAAK+E,EAAL,GAAUD,OAAV;AACA;AAED;;AAED,QAAI9E,KAAKsF,KAAL,CAAWrB,MAAf,EAAuB;AACtB,UAAKsB,IAAL,CAAUvF,IAAV,EAAgB,IAAhB;AACA;AACD;;AAED;AACAtC,YAASyB,gBAAT,CAA0B,OAA1B,EAAmC,UAACjB,CAAD,EAAO;AACzC,QAAI8B,OAAO9B,EAAEmG,MAAF,CAAS9E,OAAT,CAAiBqF,WAAjB,CAAX;;AAEA,QAAI5E,IAAJ,EAAU;AACT,WAAKuF,IAAL,CAAUvF,IAAV,EAAgB,IAAhB;AACA;AACD,IAND,EAMG,IANH;;AAQAtC,YAASyB,gBAAT,CAA0B,MAA1B,EAAkC,UAACjB,CAAD,EAAO;AACxC,QAAI8B,OAAO9B,EAAEmG,MAAF,CAAS9E,OAAT,CAAiBqF,WAAjB,CAAX;;AAEA,QAAI5E,IAAJ,EAAU;AACT,WAAKuF,IAAL,CAAUvF,IAAV,EAAgB,KAAhB;AACA;AACD,IAND,EAMG,IANH;AAOA,GAjDY;;AAmDbuF,QAAM,cAASvF,IAAT,EAAeuF,KAAf,EAAqB;AAC1B,OAAIP,QAAQtH,SAASgF,aAAT,CAAuB,4BAA2B1C,KAAK+E,EAAhC,GAAoC,IAA3D,CAAZ;;AAEA,OAAI,CAACC,KAAL,EAAY;AACX;AACA;;AAED,OAAIQ,MAAMR,MAAM7B,KAAhB;;AAEA,OAAIoC,KAAJ,EAAU;;AAETC,QAAIC,UAAJ,GAAiB,SAAjB;AACAD,QAAIE,WAAJ,GAAkB,KAAlB;AACAF,QAAIG,YAAJ,GAAmB,KAAnB;AAEA,IAND,MAMO;;AAEN,QAAI,CAAC3F,KAAKsF,KAAL,CAAWrB,MAAhB,EAAwB;AACvBuB,SAAIC,UAAJ,GAAiB,EAAjB;AACAD,SAAIE,WAAJ,GAAkB,EAAlB;AACAF,SAAIG,YAAJ,GAAmB,EAAnB;AACA;AAED;AACD;AA3EY,EAAd;;AA8EA;AACAjI,UAASyB,gBAAT,CAA0B,kBAA1B,EAA8C,YAAW;AACxDwF,cAAYR,IAAZ,CAAiB,sDAAjB;AACA,EAFD;AAGA,CArFD;ACFA,IAAIyB,YAAJ,EAAkBC,IAAlB;;AAEA,CAAC,YAAY;AACZ;;AAEA;;AACAD,gBAAe;AACdE,SAAO,IADO;;AAGdC,YAAU,kBAAUC,GAAV,EAAeC,MAAf,EAAuBC,QAAvB,EAAiC;AAC1C,OAAMC,QAAQ,KAAKL,KAAL,CAAWvG,OAAX,CAAmB,cAAnB,KAAsC,KAAKuG,KAAL,CAAW/F,aAA/D;AAAA,OACAqG,SAASD,MAAMzD,aAAN,CAAoB,kBAApB,CADT;;AAGA,OAAIsD,GAAJ,EAAS;AACRG,UAAMvD,SAAN,CAAgBU,MAAhB,CAAuB,eAAvB;AACA6C,UAAMvD,SAAN,CAAgBM,GAAhB,CAAoB,aAApB;;AAEA,QAAI,CAACkD,MAAL,EAAa;;AAEb,QAAIH,MAAJ,EAAY;AACX,SAAI,CAACG,OAAOC,YAAP,CAAoB,iBAApB,CAAL,EAA6C;AAC5CD,aAAOxI,YAAP,CAAoB,iBAApB,EAAuCwI,OAAOtC,SAA9C;AACA;AACDsC,YAAOtC,SAAP,GAAoBmC,UAAU,QAAX,GAAuBG,OAAO5B,YAAP,CAAoB,qBAAoByB,MAAxC,CAAvB,GAAyEC,QAA5F;AACA,KALD,MAKO,IAAIE,OAAOC,YAAP,CAAoB,iBAApB,CAAJ,EAA4C;AAClDD,YAAOtC,SAAP,GAAmBsC,OAAO5B,YAAP,CAAoB,iBAApB,CAAnB;AACA;AACD,IAdD,MAcO;AACN2B,UAAMvD,SAAN,CAAgBU,MAAhB,CAAuB,aAAvB;AACA6C,UAAMvD,SAAN,CAAgBM,GAAhB,CAAoB,eAApB;AACA;AACD,GAzBa;;AA2BdoD,kBAAgB,wBAAUR,KAAV,EAAiBI,QAAjB,EAA2B;AAC1C,OAAI,CAACJ,KAAL,EAAY;;AAEZ,QAAKA,KAAL,GAAaA,KAAb;;AAEA,QAAKC,QAAL,CAAc,IAAd,EAAoB,QAApB,EAA8BG,QAA9B;AACA,GAjCa;;AAmCdK,OAAK,eAAY;AAChB,OAAIP,MAAM,KAAV;;AAEA,OAAI,CAAC,4BAA4BhI,IAA5B,CAAiC,KAAK8H,KAAL,CAAWR,KAA5C,CAAL,EAAyD;AACxD,SAAKS,QAAL,CAAc,IAAd,EAAoB,CAApB;AACAC,UAAM,IAAN;AACA,IAHD,MAGO;AACN,SAAKD,QAAL,CAAc,KAAd;AACA;;AAED,UAAOC,GAAP;AACA,GA9Ca;;AAgDdQ,OAAK,eAAY;AAChB,OAAIR,MAAM,KAAV;;AAEA,OAAI,CAAC,cAAchI,IAAd,CAAmB,KAAK8H,KAAL,CAAWR,KAA9B,CAAL,EAA2C;AAC1C,SAAKS,QAAL,CAAc,IAAd,EAAoB,CAApB;AACAC,UAAM,IAAN;AACA,IAHD,MAGO;AACN,SAAKD,QAAL,CAAc,KAAd;AACA;;AAED,UAAOC,GAAP;AACA,GA3Da;;AA6DdS,QAAM,gBAAY;AACjB,OAAIT,MAAM,KAAV;;AAEA,OAAI,CAAC,mEAAmEhI,IAAnE,CAAwE,KAAK8H,KAAL,CAAWR,KAAnF,CAAL,EAAgG;AAC/F,SAAKS,QAAL,CAAc,IAAd,EAAoB,CAApB;AACAC,UAAM,IAAN;AACA,IAHD,MAGO;AACN,SAAKD,QAAL,CAAc,KAAd;AACA;;AAED,UAAOC,GAAP;AACA,GAxEa;;AA0EdU,QAAM,gBAAY;AACjB,OAAIV,MAAM,KAAV;AAAA,OACAW,UAAU,KADV;AAAA,OAEAlH,UAAU,KAAKqG,KAAL,CAAWR,KAAX,CAAiBsB,KAAjB,CAAuB,2BAAvB,CAFV;;AAIA,OAAI,CAACnH,OAAL,EAAc;AACbkH,cAAU,CAAV;AACA,IAFD,MAEO;AACN,QAAIE,WAAW,IAAIC,IAAJ,CAASrH,QAAQ,CAAR,CAAT,EAAsBA,QAAQ,CAAR,IAAa,CAAnC,EAAuCA,QAAQ,CAAR,CAAvC,CAAf;AAAA,QACAsH,UAAU,IAAID,IAAJ,EADV;;AAGA,QAAI,KAAKhB,KAAL,CAAWO,YAAX,CAAwB,uBAAxB,CAAJ,EAAsD;AACrD,SAAIW,WAAWD,QAAQE,OAAR,KAAoB,IAAIH,IAAJ,CAASC,QAAQG,WAAR,KAAyB,CAAC,KAAKpB,KAAL,CAAWtB,YAAX,CAAwB,uBAAxB,CAAnC,EAAsFuC,QAAQI,QAAR,EAAtF,EAA0GJ,QAAQK,OAAR,EAA1G,EAA6HH,OAA7H,EAAnC;;AAEA,SAAIF,QAAQE,OAAR,KAAoBJ,SAASI,OAAT,EAApB,IAA2CF,QAAQG,WAAR,KAAwBzH,QAAQ,CAAR,CAAzB,GAAuC,GAArF,EAA0F;AACzFkH,gBAAU,CAAV;AACA,MAFD,MAEO,IAAKI,QAAQE,OAAR,KAAoBJ,SAASI,OAAT,EAArB,GAA2CD,QAA/C,EAAyD;AAC/DL,gBAAU,CAAV;AACA;AACD;;AAED,QAAIE,SAASK,WAAT,MAA0BzH,QAAQ,CAAR,CAA1B,IAAwCoH,SAASM,QAAT,MAAwB1H,QAAQ,CAAR,IAAa,CAA7E,IAAmFoH,SAASO,OAAT,MAAsB3H,QAAQ,CAAR,CAA7G,EAAyH;AACxHkH,eAAU,CAAV;AACA;AACD;;AAED,OAAIA,WAAW,CAAf,EAAkB;AACjB,SAAKZ,QAAL,CAAc,IAAd,EAAoB,CAApB;AACAC,UAAM,IAAN;AACA,IAHD,MAGO,IAAIW,WAAW,CAAf,EAAkB;AACxB,SAAKZ,QAAL,CAAc,IAAd,EAAoB,CAApB;AACAC,UAAM,IAAN;AACA,IAHM,MAGA;AACN,SAAKD,QAAL,CAAc,KAAd;AACA;;AAED,UAAOC,GAAP;AACA,GA/Ga;;AAiHdqB,SAAO,iBAAY;AAClB,OAAIrB,MAAM,KAAV;;AAEA,OAAI,CAAC,+CAA+ChI,IAA/C,CAAoD,KAAK8H,KAAL,CAAWR,KAA/D,CAAL,EAA4E;AAC3E,SAAKS,QAAL,CAAc,IAAd,EAAoB,CAApB;AACAC,UAAM,IAAN;AACA,IAHD,MAGO;AACN,SAAKD,QAAL,CAAc,KAAd;AACA;;AAED,UAAOC,GAAP;AACA,GA5Ha;;AA8HdtF,OAAK,eAAY;AAChB,OAAIsF,MAAM,KAAV;;AAEA,OAAI,CAAC,qDAAqDhI,IAArD,CAA0D,KAAK8H,KAAL,CAAWR,KAArE,CAAL,EAAkF;AACjF,SAAKS,QAAL,CAAc,IAAd,EAAoB,CAApB;AACAC,UAAM,IAAN;AACA,IAHD,MAGO;AACN,SAAKD,QAAL,CAAc,KAAd;AACA;;AAED,UAAOC,GAAP;AACA,GAzIa;;AA2IdsB,OAAK,eAAY;AAChB,OAAItB,MAAM,KAAV;;AAEA,OAAI,CAAC,8CAA8ChI,IAA9C,CAAmD,KAAK8H,KAAL,CAAWR,KAA9D,CAAL,EAA2E;AAC1E,SAAKS,QAAL,CAAc,IAAd,EAAoB,CAApB;AACAC,UAAM,IAAN;AACA,IAHD,MAGO;AACN,SAAKD,QAAL,CAAc,KAAd;AACA;;AAED,UAAOC,GAAP;AACA,GAtJa;;AAwJduB,QAAM,gBAAY;AACjB,OAAIvB,MAAM,KAAV;AAAA,OACAwB,SAAS,KAAK1B,KAAL,CAAWtB,YAAX,CAAwB,iBAAxB,CADT;;AAGA,OAAIgD,UAAU,KAAK1B,KAAL,CAAWR,KAAX,CAAiBrB,MAAjB,GAA0BuD,MAAxC,EAAgD;AAC/C,SAAKzB,QAAL,CAAc,IAAd,EAAoB,CAApB;AACAC,UAAM,IAAN;AACA,IAHD,MAGO;AACN,SAAKD,QAAL,CAAc,KAAd;AACA;;AAED,UAAOC,GAAP;AACA,GApKa;;AAsKdyB,YAAU,kBAAUzH,IAAV,EAAgB;AACzB,QAAK8F,KAAL,GAAa9F,IAAb;;AAEA,OAAI0H,QAAQ1H,KAAKT,OAAL,CAAa,oBAAb,CAAZ;;AAEA,OAAImI,SAASA,MAAMlD,YAAN,CAAmB,aAAnB,CAAb,EAAgD;AAC/C,QAAImD,kBAAkB,CAAtB;AAAA,QACA5D,WAAW2D,MAAM1D,gBAAN,CAAuB,wBAAvB,CADX;;AAGA,SAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAIH,SAASE,MAA7B,EAAqCC,GAArC,EAA0C;AACzC,SAAIH,SAASG,CAAT,EAAY0D,OAAhB,EAAyB;AACxBD;AACA;AACD;;AAED,QAAIA,kBAAkBD,MAAMlD,YAAN,CAAmB,UAAnB,CAAtB,EAAsD;AACrDkD,WAAM9E,SAAN,CAAgBM,GAAhB,CAAoB,yBAApB;AACA,KAFD,MAEO;AACNwE,WAAM9E,SAAN,CAAgBU,MAAhB,CAAuB,yBAAvB;AACA;AAED,IAhBD,MAgBO,IAAItD,KAAKwE,YAAL,CAAkB,aAAlB,CAAJ,EAAsC;AAC5C,QAAIxE,KAAKwE,YAAL,CAAkB,eAAlB,KAAsC,CAACxE,KAAK4H,OAAhD,EAAyD;AACxD,UAAK7B,QAAL,CAAc,IAAd;AACA,KAFD,MAEO;AACN,UAAKA,QAAL,CAAc,KAAd;AACA;AACD;AACD,GAlMa;;AAoMd8B,SAAO,eAAU7H,IAAV,EAAgB;AACtB,QAAK8F,KAAL,GAAa9F,IAAb;;AAEA,OAAI8H,iBAAiB,KAArB;AAAA,OACAJ,QAAQ1H,KAAKT,OAAL,CAAa,oBAAb,CADR;AAAA,OAEAwE,WAAW2D,MAAM1D,gBAAN,CAAuB,qBAAvB,CAFX;;AAIA,QAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAIH,SAASE,MAA7B,EAAqCC,GAArC,EAA0C;AACzC,QAAIH,SAASG,CAAT,EAAY0D,OAAhB,EAAyB;AACxBE,sBAAiB,IAAjB;AACA;AACD;;AAED,OAAI,CAACA,cAAL,EAAqB;AACpBJ,UAAM9E,SAAN,CAAgBM,GAAhB,CAAoB,yBAApB;AACA,IAFD,MAEO;AACNwE,UAAM9E,SAAN,CAAgBU,MAAhB,CAAuB,yBAAvB;AACA;AACD,GAtNa;;AAwNdyE,UAAQ,gBAAU/H,IAAV,EAAgB;AACvB,OAAIgG,MAAM,KAAV;;AAEA,QAAKF,KAAL,GAAa9F,IAAb;;AAEA,OAAIA,KAAKwE,YAAL,CAAkB,eAAlB,KAAsC,CAACxE,KAAKsF,KAAL,CAAWrB,MAAtD,EAA8D;AAC7D,SAAK8B,QAAL,CAAc,IAAd;AACAC,UAAM,IAAN;AACA,IAHD,MAGO;AACN,SAAKD,QAAL,CAAc,KAAd;AACA;;AAED,UAAOC,GAAP;AACA,GArOa;;AAuOdgC,QAAM,cAAUhI,IAAV,EAAgBiI,QAAhB,EAA0B;AAC/B,QAAKnC,KAAL,GAAa9F,IAAb;;AAEA,OAAIgG,MAAM,KAAV;AAAA,OACAkC,WAAW,EAACC,KAAK,CAAN,EAASC,MAAM,CAAf,EADX;AAAA,OAEAC,WAAW,CAAC,KAAKvC,KAAL,CAAWtB,YAAX,CAAwB,gBAAxB,CAFZ;AAAA,OAGA8D,YAAY,IAAIC,MAAJ,CAAW,WAAU,KAAKzC,KAAL,CAAWtB,YAAX,CAAwB,UAAxB,EAAoCgE,OAApC,CAA4C,IAA5C,EAAkD,MAAlD,CAAV,GAAqE,IAAhF,EAAsF,GAAtF,CAHZ;AAAA,OAIAC,UAAU,CAAC,KAAK3C,KAAL,CAAWtB,YAAX,CAAwB,eAAxB,CAJX;AAAA,OAKAkE,mBAAmB,KAAK5C,KAAL,CAAWvG,OAAX,CAAmB,cAAnB,EAAmCyE,gBAAnC,CAAoD,oBAApD,CALnB,CAK6F;;AAE7F,QAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAI+D,SAAShE,MAA7B,EAAqCC,GAArC,EAA0C;AACzC,QAAI8D,OAAOC,SAAS/D,CAAT,CAAX;;AAEA,QAAI,CAAC8D,KAAKvB,IAAL,CAAUG,KAAV,CAAgB0B,SAAhB,CAAL,EAAiC;AAChCJ,cAASC,GAAT;;AAEA,SAAIO,iBAAiBxE,CAAjB,CAAJ,EAAyB;AACxBwE,uBAAiBxE,CAAjB,EAAoBtB,SAApB,CAA8BM,GAA9B,CAAkC,YAAlC;AACA;;AAED;AACA;;AAED,QAAI8E,KAAKI,IAAL,GAAYK,OAAhB,EAAyB;AACxBP,cAASE,IAAT;;AAEA,SAAIM,iBAAiBxE,CAAjB,CAAJ,EAAyB;AACxBwE,uBAAiBxE,CAAjB,EAAoBtB,SAApB,CAA8BM,GAA9B,CAAkC,YAAlC;AACA;AACD;AACD;;AAED,OAAImF,YAAYJ,SAAShE,MAAT,GAAkBoE,QAAlC,EAA4C;AAC3C,SAAKtC,QAAL,CAAc,IAAd,EAAoB,CAApB;AACAC,UAAM,IAAN;AACA,IAHD,MAGO,IAAIkC,SAASC,GAAb,EAAkB;AACxB,SAAKpC,QAAL,CAAc,IAAd,EAAoB,CAApB;AACAC,UAAM,IAAN;AACA,IAHM,MAGA,IAAIkC,SAASE,IAAb,EAAmB;AACzB,SAAKrC,QAAL,CAAc,IAAd,EAAoB,CAApB;AACAC,UAAM,IAAN;AACA,IAHM,MAGA;AACN,SAAKD,QAAL,CAAc,KAAd;AACA;;AAED,UAAOC,GAAP;AACA,GArRa;;AAuRd2C,mBAAiB,yBAAU3I,IAAV,EAAgB;AAChC,QAAK8F,KAAL,GAAa9F,IAAb;;AAEA,OAAI4I,WAAW5I,KAAKwE,YAAL,CAAkB,WAAlB,CAAf;;AAEA,OAAIxE,KAAKwE,YAAL,CAAkB,eAAlB,KAAsC,CAACxE,KAAKsF,KAAL,CAAWrB,MAAtD,EAA8D;AAC7D,SAAK8B,QAAL,CAAc,IAAd;AACA,IAFD,MAEO,IAAI/F,KAAKsF,KAAL,CAAWrB,MAAf,EAAuB;AAC7B,QAAI2E,QAAJ,EAAc;AACb,UAAKA,QAAL;AACA,KAFD,MAEO;AACN,UAAK7C,QAAL,CAAc,KAAd;AACA;AACD,IANM,MAMA;AACN,SAAKA,QAAL,CAAc,KAAd;AACA;AACD,GAvSa;;AAySd8C,YAAU,kBAAUC,QAAV,EAAoB;AAC7B,OAAI9C,MAAM,CAAV;;AAEA;AACA,OAAIjC,WAAW+E,SAAS9E,gBAAT,CAA0B,sDAA1B,CAAf;;AAEA,QAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAIH,SAASE,MAA7B,EAAqCC,GAArC,EAA0C;AACzC,QAAIlE,OAAO+D,SAASG,CAAT,CAAX;;AAEA,QAAI3G,aAAayC,IAAb,CAAJ,EAAwB;AACvB;AACA;;AAED,SAAK8F,KAAL,GAAa9F,IAAb;;AAEAA,SAAKpC,YAAL,CAAkB,aAAlB,EAAiC,MAAjC;;AAEA,QAAIgL,WAAW5I,KAAKwE,YAAL,CAAkB,WAAlB,CAAf;;AAEA,QAAIxE,KAAKwE,YAAL,CAAkB,eAAlB,KAAsC,CAACxE,KAAKsF,KAAL,CAAWrB,MAAtD,EAA8D;AAC7D,UAAK8B,QAAL,CAAc,IAAd;AACAC;AACA,KAHD,MAGO,IAAIhG,KAAKsF,KAAL,CAAWrB,MAAf,EAAuB;AAC7B,SAAI2E,QAAJ,EAAc;AACb,UAAI,KAAKA,QAAL,GAAJ,EAAsB;AACrB5C;AACA;AACD,MAJD,MAIO;AACN,WAAKD,QAAL,CAAc,KAAd;AACA;AACD,KARM,MAQA;AACN,UAAKA,QAAL,CAAc,KAAd;AACA;AACD;;AAED;AACA,OAAIhC,WAAW+E,SAAS9E,gBAAT,CAA0B,uBAA1B,CAAf;;AAEA,QAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAIH,SAASE,MAA7B,EAAqCC,GAArC,EAA0C;AACzC,QAAIlE,OAAO+D,SAASG,CAAT,CAAX;;AAEA,QAAI3G,aAAayC,KAAKD,aAAlB,CAAJ,EAAsC;AACrC;AACA;;AAED,QAAI,KAAKgI,MAAL,CAAY/H,IAAZ,CAAJ,EAAuB;AACtBgG;AACA;AACD;;AAED;AACA,OAAIjC,WAAW+E,SAAS9E,gBAAT,CAA0B,wBAA1B,CAAf;;AAEA,QAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAIH,SAASE,MAA7B,EAAqCC,GAArC,EAA0C;AACzC,QAAIlE,OAAO+D,SAASG,CAAT,CAAX;;AAEA,QAAI3G,aAAayC,IAAb,CAAJ,EAAwB;AACvB;AACA;;AAED,SAAK8F,KAAL,GAAa9F,IAAb;;AAEAA,SAAKpC,YAAL,CAAkB,aAAlB,EAAiC,MAAjC;;AAEA,QAAIoC,KAAKwE,YAAL,CAAkB,eAAlB,KAAsC,CAACxE,KAAK4H,OAAhD,EAAyD;AACxD,UAAK7B,QAAL,CAAc,IAAd;AACAC;AACA,KAHD,MAGO;AACN,UAAKD,QAAL,CAAc,KAAd;AACA;AACD;;AAED;AACA,OAAIgD,SAASD,SAAS9E,gBAAT,CAA0B,oBAA1B,CAAb;;AAEA,QAAK,IAAIE,KAAI,CAAb,EAAgBA,KAAI6E,OAAO9E,MAA3B,EAAmCC,IAAnC,EAAwC;AACvC,QAAIwD,QAAQqB,OAAO7E,EAAP,CAAZ;AAAA,QACAyD,kBAAkB,CADlB;;AAGA,QAAIpK,aAAamK,KAAb,CAAJ,EAAyB;AACxB;AACA;;AAEDA,UAAM9J,YAAN,CAAmB,aAAnB,EAAkC,MAAlC;;AAEA,QAAImG,WAAW2D,MAAM1D,gBAAN,CAAuB,wBAAvB,CAAf;;AAEA,SAAK,IAAIE,MAAI,CAAb,EAAgBA,MAAIH,SAASE,MAA7B,EAAqCC,KAArC,EAA0C;AACzC,SAAIH,SAASG,GAAT,EAAY0D,OAAhB,EAAyB;AACxBD;AACA;AACD;;AAED,QAAIA,kBAAkBD,MAAMlD,YAAN,CAAmB,UAAnB,CAAtB,EAAsD;AACrDkD,WAAM9E,SAAN,CAAgBM,GAAhB,CAAoB,yBAApB;AACA8C;AACA,KAHD,MAGO;AACN0B,WAAM9E,SAAN,CAAgBU,MAAhB,CAAuB,yBAAvB;AACA;AACD;;AAED;AACA,OAAIyF,SAASD,SAAS9E,gBAAT,CAA0B,oBAA1B,CAAb;;AAEA,QAAK,IAAIE,MAAI,CAAb,EAAgBA,MAAI6E,OAAO9E,MAA3B,EAAmCC,KAAnC,EAAwC;AACvC,QAAIwD,QAAQqB,OAAO7E,GAAP,CAAZ;AAAA,QACA4D,iBAAiB,KADjB;;AAGA,QAAIvK,aAAamK,KAAb,CAAJ,EAAyB;AACxB;AACA;;AAEDA,UAAM9J,YAAN,CAAmB,aAAnB,EAAkC,MAAlC;;AAEA,QAAImG,WAAW2D,MAAM1D,gBAAN,CAAuB,qBAAvB,CAAf;;AAEA,SAAK,IAAIE,MAAI,CAAb,EAAgBA,MAAIH,SAASE,MAA7B,EAAqCC,KAArC,EAA0C;AACzC,SAAIH,SAASG,GAAT,EAAY0D,OAAhB,EAAyB;AACxBE,uBAAiB,IAAjB;AACA;AACD;;AAED,QAAI,CAACA,cAAL,EAAqB;AACpBJ,WAAM9E,SAAN,CAAgBM,GAAhB,CAAoB,yBAApB;AACA8C;AACA,KAHD,MAGO;AACN0B,WAAM9E,SAAN,CAAgBU,MAAhB,CAAuB,yBAAvB;AACA;AACD;;AAED;AACA,OAAIS,WAAW+E,SAAS9E,gBAAT,CAA0B,oBAA1B,CAAf;;AAEA,QAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAIH,SAASE,MAA7B,EAAqCC,GAArC,EAA0C;AACzC,QAAIlE,OAAO+D,SAASG,CAAT,CAAX;;AAEA,QAAI3G,aAAayC,IAAb,CAAJ,EAAwB;AACvB;AACA;;AAED,SAAK8F,KAAL,GAAa9F,IAAb;;AAEA,QAAIgJ,WAAWC,UAAX,CAAsBjJ,IAAtB,EAA4BiE,MAAhC,EAAwC;AACvC,SAAI,KAAK+D,IAAL,CAAUhI,IAAV,EAAgBgJ,WAAWC,UAAX,CAAsBjJ,IAAtB,CAAhB,CAAJ,EAAkD;AACjDgG;AACA;AACD,KAJD,MAIO,IAAIhG,KAAKwE,YAAL,CAAkB,eAAlB,CAAJ,EAAwC;AAC9C,UAAKuB,QAAL,CAAc,IAAd;AACAC;AACA,KAHM,MAGA;AACN,UAAKD,QAAL,CAAc,KAAd;AACA;AACD;;AAED;AACA,OAAIhC,WAAW+E,SAAS9E,gBAAT,CAA0B,gCAA1B,CAAf;;AAEA,QAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAIH,SAASE,MAA7B,EAAqCC,GAArC,EAA0C;AACzC,QAAIlE,OAAO+D,SAASG,CAAT,CAAX;;AAEA,QAAI3G,aAAayC,IAAb,CAAJ,EAAwB;AACvB;AACA;;AAED,SAAK8F,KAAL,GAAa9F,IAAb;;AAEA,QAAIkJ,MAAMlJ,KAAKsF,KAAf;;AAEA,QAAI4D,IAAIjF,MAAR,EAAgB;AACf,SAAIkF,cAAcL,SAASpG,aAAT,CAAuB1C,KAAKwE,YAAL,CAAkB,yBAAlB,CAAvB,EAAqEc,KAAvF;;AAEA,SAAI4D,QAAQC,WAAZ,EAAyB;AACxB,WAAKpD,QAAL,CAAc,IAAd,EAAoB,CAApB;AACAC;AACA,MAHD,MAGO;AACN,WAAKD,QAAL,CAAc,KAAd;AACA;AACD;AACD;;AAED,OAAIC,GAAJ,EAAS;AACR8C,aAASlG,SAAT,CAAmBM,GAAnB,CAAuB,YAAvB;AACA,IAFD,MAEO;AACN4F,aAASlG,SAAT,CAAmBU,MAAnB,CAA0B,YAA1B;AACA;;AAED,UAAQ0C,GAAD,GAAQ,KAAR,GAAgB,IAAvB;AACA,GApea;;AAsed7B,QAAM,cAAUiF,YAAV,EAAwB;AAAA;;AAC7B1L,YAASyB,gBAAT,CAA0B,OAA1B,EAAmC,UAACjB,CAAD,EAAO;AACzC,QAAI8B,OAAO9B,EAAEmG,MAAF,CAAS9E,OAAT,CAAiB6J,eAAc,sBAAd,GAAsCA,YAAtC,GAAoD,0BAApD,GAAgFA,YAAhF,GAA8F,WAA/G,CAAX;;AAEA,QAAIpJ,QAAQA,KAAKqG,YAAL,CAAkB,aAAlB,CAAZ,EAA8C;AAC7C,WAAKsC,eAAL,CAAqB3I,IAArB;AACA;AACD,IAND;;AAQAtC,YAASyB,gBAAT,CAA0B,QAA1B,EAAoC,UAACjB,CAAD,EAAO;AAC1C,QAAI8B,OAAO9B,EAAEmG,MAAF,CAAS9E,OAAT,CAAiB6J,eAAc,uBAAd,GAAuCA,YAAvC,GAAqD,yBAAtE,CAAX;;AAEA,QAAIpJ,IAAJ,EAAU;AACT,WAAKA,KAAKqJ,IAAV,EAAgBrJ,IAAhB;AACA;AACD,IAND;AAOA;AAtfa,EAAf;;AAyfA;AACA,KAAIsJ,oBAAoB;AACvBC,aAAW,mBAAUvJ,IAAV,EAAgB;AAC1B,OAAIwJ,SAASxJ,KAAKD,aAAL,CAAmB2C,aAAnB,CAAiC,8BAAjC,CAAb;AAAA,OACA+G,eAAezJ,KAAKsF,KAAL,CAAWkD,OAAX,CAAmB,KAAnB,EAA0B,MAA1B,CADf;;AAGAgB,UAAO1F,SAAP,GAAmB2F,eAAc,QAAjC;AACA,GANsB;;AAQvBtF,QAAM,gBAAY;AAAA;;AACjBzG,YAASyB,gBAAT,CAA0B,OAA1B,EAAmC,UAACjB,CAAD,EAAO;AACzC,QAAI8B,OAAO9B,EAAEmG,MAAF,CAAS9E,OAAT,CAAiB,gCAAjB,CAAX;;AAEA,QAAI,CAACS,IAAL,EAAW;AACV;AACA;;AAED,WAAKuJ,SAAL,CAAevJ,IAAf;AACA,IARD;AASA;AAlBsB,EAAxB;;AAqBA;AACA,KAAI0J,eAAe;AAClBC,QAAM,cAAUC,OAAV,EAAmBC,GAAnB,EAAwB;AAC7B,OAAIC,eAAgBF,QAAQvD,YAAR,CAAqB,qBAArB,CAAD,GAAgD3I,SAASgF,aAAT,CAAuBkH,QAAQpF,YAAR,CAAqB,qBAArB,CAAvB,CAAhD,GAAsH,IAAzI;;AAEA,OAAI,CAACsF,YAAL,EAAmB;;AAEnB,OAAIC,kBAAkBH,QAAQrK,OAAR,CAAgB,iBAAhB,CAAtB;AAAA,OACAyK,OAAQH,GAAD,GAAQjE,aAAaiD,QAAb,CAAsBkB,eAAtB,CAAR,GAAiD,IADxD;;AAGA,OAAIC,IAAJ,EAAU;AACTD,oBAAgBnH,SAAhB,CAA0BM,GAA1B,CAA8B,uBAA9B;AACA4G,iBAAalH,SAAb,CAAuBU,MAAvB,CAA8B,uBAA9B;AACA;AACD,GAbiB;;AAelBa,QAAM,cAAU8F,eAAV,EAA2BC,eAA3B,EAA4C;AAAA;;AACjDxM,YAASyB,gBAAT,CAA0B,OAA1B,EAAmC,UAACjB,CAAD,EAAO;AACzC,QAAIiM,cAAcjM,EAAEmG,MAAF,CAAS9E,OAAT,CAAiB0K,eAAjB,CAAlB;AAAA,QACAG,cAAclM,EAAEmG,MAAF,CAAS9E,OAAT,CAAiB2K,eAAjB,CADd;;AAGA,QAAIC,WAAJ,EAAiB;AAChB,YAAKR,IAAL,CAAUQ,WAAV,EAAuB,IAAvB;AACA,KAFD,MAEO,IAAIC,WAAJ,EAAiB;AACvB,YAAKT,IAAL,CAAUS,WAAV,EAAuB,KAAvB;AACA;AACD,IATD;AAUA;AA1BiB,EAAnB;;AA6BA;AACAvE,QAAO;AACNwE,YAAU,IADJ;;AAGNC,UAAQ,gBAAUpM,CAAV,EAAa4K,QAAb,EAAuB;AAC9BA,YAASlG,SAAT,CAAmBM,GAAnB,CAAuB,cAAvB;;AAEA,OAAI,CAAC,KAAKmH,QAAV,EAAoB;AACnBvB,aAASwB,MAAT;AACA;AACA;;AAED;AACA,YAASC,KAAT,GAAiB;AAChB,QAAIxG,WAAW+E,SAAS9E,gBAAT,CAA0B,sDAA1B,CAAf;;AAEA,SAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAIH,SAASE,MAA7B,EAAqCC,GAArC,EAA0C;AACzC,SAAIlE,OAAO+D,SAASG,CAAT,CAAX;;AAEAlE,UAAKsF,KAAL,GAAa,EAAb;;AAEA,SAAInH,OAAOwG,WAAX,EAAwB;AACvBA,kBAAYY,IAAZ,CAAiBvF,IAAjB,EAAuB,KAAvB;AACA;AACD;;AAED,QAAI7B,OAAOqM,MAAX,EAAmB;AAClBA,YAAOC,KAAP;AACA;;AAED,QAAIC,kBAAkB5B,SAAS9E,gBAAT,CAA0B,wBAA1B,CAAtB;;AAEA,SAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAIwG,gBAAgBzG,MAApC,EAA4CC,GAA5C,EAAiD;AAChDwG,qBAAgBxG,CAAhB,EAAmBJ,SAAnB,GAA+B,EAA/B;AACA;AACD;;AAED;AACA,YAAS6G,YAAT,CAAsBnI,EAAtB,EAA0B;AACzB,QAAIuB,WAAW+E,SAAS9E,gBAAT,CAA0B,6CAA1B,CAAf;;AAEA,SAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAIH,SAASE,MAA7B,EAAqCC,GAArC,EAA0C;AACzC,SAAIlE,OAAO+D,SAASG,CAAT,CAAX;;AAEA,SAAI,CAAC3G,aAAayC,IAAb,CAAL,EAAyB;AACxB,UAAIwC,EAAJ,EAAQ;AACPxC,YAAKqF,eAAL,CAAqB,UAArB;AACA,OAFD,MAEO;AACNrF,YAAKpC,YAAL,CAAkB,UAAlB,EAA8B,SAA9B;AACA;AACD;AACD;AACD;;AAED;AACA,OAAIgN,MAAM,KAAKP,QAAL,CAAcvB,QAAd,EAAwB,UAAU+B,GAAV,EAAe;AAChDA,UAAMA,OAAO,EAAb;;AAEAF,iBAAaE,IAAIC,kBAAjB;;AAEAhC,aAASlG,SAAT,CAAmBU,MAAnB,CAA0B,cAA1B;;AAEA,QAAIuH,IAAIE,SAAJ,IAAiB,IAArB,EAA2B;AAC1BR;AACA;AACD,IAVS,CAAV;;AAYA,OAAIK,QAAQ,KAAZ,EAAmB;AAClB1M,MAAEqG,cAAF;AACAoG,iBAAa,KAAb;AACA,IAHD,MAGO;AACN7B,aAASwB,MAAT;AACA;AACD,GAxEK;;AA0ENnG,QAAM,cAAUiF,YAAV,EAAwB;AAAA;;AAC7B,OAAI,CAAC1L,SAASgF,aAAT,CAAuB0G,YAAvB,CAAL,EAA2C;;AAE3CxD,gBAAazB,IAAb,CAAkBiF,YAAlB;;AAEA;AACA1L,YAASyB,gBAAT,CAA0B,QAA1B,EAAoC,UAACjB,CAAD,EAAO;AAC1C,QAAI4K,WAAW5K,EAAEmG,MAAF,CAAS9E,OAAT,CAAiB6J,YAAjB,CAAf;;AAEA,QAAI,CAACN,QAAL,EAAe;;AAEf,QAAIlD,aAAaiD,QAAb,CAAsBC,QAAtB,CAAJ,EAAqC;AACpC,YAAKwB,MAAL,CAAYpM,CAAZ,EAAe4K,QAAf;AACA,KAFD,MAEO;AACN5K,OAAEqG,cAAF;AACA;AACD,IAVD;;AAYA;AACA7G,YAASyB,gBAAT,CAA0B,SAA1B,EAAqC,UAACjB,CAAD,EAAO;AAC3C,QAAI4K,WAAW5K,EAAEmG,MAAF,CAAS9E,OAAT,CAAiB6J,YAAjB,CAAf;;AAEA,QAAI,CAACN,QAAL,EAAe;;AAEf,QAAIkC,MAAM9M,EAAE+M,KAAF,IAAW/M,EAAEgN,OAAb,IAAwB,CAAlC;;AAEA,QAAIhN,EAAEiN,OAAF,IAAaH,OAAO,EAAxB,EAA4B;AAC3B9M,OAAEqG,cAAF;;AAEA,SAAIqB,aAAaiD,QAAb,CAAsBC,QAAtB,CAAJ,EAAqC;AACpC,aAAKwB,MAAL,CAAYpM,CAAZ,EAAe4K,QAAf;AACA;AACD;AACD,IAdD;AAeA;AA5GK,EAAP;;AA+GA;AACA,UAASsC,UAAT,CAAoBxG,WAApB,EAAiC;AAChC,MAAIb,WAAWrG,SAASsG,gBAAT,CAA0BY,WAA1B,CAAf;;AAEA,OAAK,IAAIV,IAAI,CAAb,EAAgBA,IAAIH,SAASE,MAA7B,EAAqCC,GAArC,EAA0C;AACzC,OAAIlE,OAAO+D,SAASG,CAAT,CAAX;AAAA,OACAc,QAAQhF,KAAKD,aAAL,CAAmB2C,aAAnB,CAAiC,OAAjC,CADR;AAAA,OAEA2I,QAASrL,KAAKqG,YAAL,CAAkB,IAAlB,CAAD,GAA4BrG,KAAK+E,EAAjC,GAAsC,cAAab,CAF3D;;AAIA,OAAIc,SAAS,CAACA,MAAMqB,YAAN,CAAmB,KAAnB,CAAd,EAAyC;AACxCrB,UAAME,OAAN,GAAgBmG,KAAhB;AACArL,SAAK+E,EAAL,GAAUsG,KAAV;AACA;AACD;AACD;;AAED;AACA,KAAIC,gBAAgB;AACnBpI,OAAK,aAAU0G,OAAV,EAAmB;AACvB,OAAI2B,YAAa3B,QAAQvD,YAAR,CAAqB,iBAArB,CAAD,GAA4C3I,SAASgF,aAAT,CAAuBkH,QAAQpF,YAAR,CAAqB,iBAArB,CAAvB,CAA5C,GAA8G,IAA9H;AAAA,OACAgH,WAAY5B,QAAQvD,YAAR,CAAqB,sBAArB,CAAD,GAAiD3I,SAASgF,aAAT,CAAuBkH,QAAQpF,YAAR,CAAqB,sBAArB,CAAvB,CAAjD,GAAwH,IADnI;;AAGA,OAAI,CAAC+G,SAAD,IAAc,CAACC,QAAnB,EAA6B;;AAE7B,OAAIC,gBAAgB/N,SAASuH,aAAT,CAAuB,KAAvB,CAApB;;AAEAwG,iBAActG,SAAd,GAA0B,YAA1B;;AAEAsG,iBAAc3H,SAAd,GAA0ByH,UAAUzH,SAApC;;AAEA0H,YAASE,WAAT,CAAqBD,aAArB;;AAEA,OAAIE,oBAAoBH,SAASxH,gBAAT,CAA0B,aAA1B,CAAxB;;AAEA,QAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAIyH,kBAAkB1H,MAAtC,EAA8CC,GAA9C,EAAmD;AAClD,QAAI0H,gBAAgBD,kBAAkBzH,CAAlB,CAApB;AAAA,QACA2H,gBAAgBD,cAAc5H,gBAAd,CAA+B,OAA/B,CADhB;AAAA,QAEA8H,gBAAgBF,cAAc5H,gBAAd,CAA+B,OAA/B,CAFhB;;AAIA,SAAK,IAAI+H,IAAI,CAAb,EAAgBA,IAAIF,cAAc5H,MAAlC,EAA0C8H,GAA1C,EAA+C;AAC9C,SAAI/L,OAAO6L,cAAcE,CAAd,CAAX;;AAEA,SAAI/L,KAAKkF,OAAL,IAAgB,EAApB,EAAwB;AACvBlF,WAAKkF,OAAL,IAAgB,MAAKhB,CAAL,GAAQ,GAAR,GAAa6H,CAA7B;AACA;AACD;;AAED,SAAK,IAAIA,IAAI,CAAb,EAAgBA,IAAID,cAAc7H,MAAlC,EAA0C8H,GAA1C,EAA+C;AAC9C,SAAI/L,OAAO8L,cAAcC,CAAd,CAAX;;AAEA,SAAI/L,KAAK+E,EAAL,IAAW,EAAf,EAAmB;AAClB/E,WAAK+E,EAAL,IAAW,MAAKb,CAAL,GAAQ,GAAR,GAAa6H,CAAxB;AACA;AACD;AACD;AACD,GAtCkB;;AAwCnBzI,UAAQ,gBAAUsG,OAAV,EAAmB;AAC1B,OAAIoC,WAAYpC,QAAQrK,OAAR,CAAgB,aAAhB,CAAhB;;AAEA,OAAIyM,QAAJ,EAAc;AACbA,aAASlI,SAAT,GAAqB,EAArB;AACA;AACD,GA9CkB;;AAgDnBK,QAAM,cAAU8H,cAAV,EAA0BC,iBAA1B,EAA6C;AAAA;;AAClDxO,YAASyB,gBAAT,CAA0B,OAA1B,EAAmC,UAACjB,CAAD,EAAO;AACzC,QAAIiO,aAAajO,EAAEmG,MAAF,CAAS9E,OAAT,CAAiB0M,cAAjB,CAAjB;AAAA,QACAG,gBAAgBlO,EAAEmG,MAAF,CAAS9E,OAAT,CAAiB2M,iBAAjB,CADhB;;AAGA,QAAIC,UAAJ,EAAgB;AACf,YAAKjJ,GAAL,CAASiJ,UAAT;AACA,KAFD,MAEO,IAAIC,aAAJ,EAAmB;AACzB,YAAK9I,MAAL,CAAY8I,aAAZ;AACA;AACD,IATD;AAUA;AA3DkB,EAApB;;AA8DA;AACA;;;;;;;;;;;;AAYA;AACA1O,UAASyB,gBAAT,CAA0B,kBAA1B,EAA8C,YAAY;AACzDiM,aAAW,iEAAX;AACA;AACA9B,oBAAkBnF,IAAlB;AACAuF,eAAavF,IAAb,CAAkB,uBAAlB,EAA2C,uBAA3C;AACAmH,gBAAcnH,IAAd,CAAmB,uBAAnB,EAA4C,+BAA5C;AACA,EAND;AAOA,CArwBD;ACFA;;;;;;;;AAQA,CAAE,IAAIkI,KAAJ;;AAEF,CAAC,YAAW;AACX;;AAEA,KAAIC,aAAa,CAAjB;;AAEAD,SAAQ,eAAUE,GAAV,EAAe;AACtBA,QAAMA,OAAO,EAAb;;AAEA,MAAIC,UAAU,cAAcF,YAA5B;;AAEA,MAAIC,IAAIE,QAAR,EAAkB;AACjB,OAAIC,cAAcvO,OAAOwO,YAAP,CAAoBC,OAApB,CAA4B,kBAAiBJ,OAA7C,CAAlB;;AAEA,OAAIE,gBAAgB,IAAhB,IAAwBA,gBAAgB,MAA5C,EAAoD;AACnD,WAAO,KAAP;AACA;AACD;;AAED;AACA,MAAIG,YAAYnP,SAASuH,aAAT,CAAuB,KAAvB,CAAhB;;AAEA4H,YAAU1H,SAAV,GAAsB,OAAtB;;AAEA0H,YAAU9H,EAAV,GAAeyH,OAAf;;AAEAK,YAAU/I,SAAV,GAAsB,sDAAtB;;AAEApG,WAASiF,IAAT,CAAc+I,WAAd,CAA0BmB,SAA1B;;AAEA,MAAIN,IAAIO,QAAJ,IAAgB,KAApB,EAA2B;AAC1BD,aAAUjK,SAAV,CAAoBM,GAApB,CAAwB,WAAxB;AACA;;AAED;AACA,OAAK6J,UAAL,GAAkB,UAAUC,OAAV,EAAmB;AACpCH,aAAUnK,aAAV,CAAwB,KAAxB,EAA+BoB,SAA/B,GAA2CkJ,OAA3C;AACA,GAFD;;AAIA,MAAIT,IAAIS,OAAR,EAAiB;AAChB,QAAKD,UAAL,CAAgBR,IAAIS,OAApB;AACA;;AAED;AACA,WAASC,eAAT,GAA2B;AAC1B9O,UAAOwO,YAAP,CAAoBO,OAApB,CAA4B,kBAAiBV,OAA7C,EAAsD,MAAtD;AACA;;AAED;AACA,WAASjH,IAAT,GAAgB;AACfsH,aAAUjK,SAAV,CAAoBM,GAApB,CAAwB,cAAxB;;AAEA,OAAIqJ,IAAIE,QAAR,EAAkB;AACjBQ;AACA;AACD;;AAEDJ,YAAUnK,aAAV,CAAwB,kBAAxB,EAA4CvD,gBAA5C,CAA6D,OAA7D,EAAsEoG,IAAtE;AACA,EApDD;AAqDA,CA1DD","file":"script.js","sourcesContent":["// global variables\r\n; var browser, elemIsHidden, ajax, animate;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\t// Get useragent\r\n\tdocument.documentElement.setAttribute('data-useragent', navigator.userAgent.toLowerCase());\r\n\r\n\t// Browser identify\r\n\tbrowser = (function(userAgent) {\r\n\t\tuserAgent = userAgent.toLowerCase();\r\n\r\n\t\tif (/(msie|rv:11\\.0)/.test(userAgent)) {\r\n\t\t\treturn 'ie';\r\n\t\t}\r\n\t})(navigator.userAgent);\r\n\r\n\t// Add support CustomEvent constructor for IE\r\n\ttry {\r\n\t\tnew CustomEvent(\"IE has CustomEvent, but doesn't support constructor\");\r\n\t} catch (e) {\r\n\t\twindow.CustomEvent = function(event, params) {\r\n\t\t\tvar evt;\r\n\r\n\t\t\tparams = params || {\r\n\t\t\t\tbubbles: false,\r\n\t\t\t\tcancelable: false,\r\n\t\t\t\tdetail: undefined\r\n\t\t\t};\r\n\r\n\t\t\tevt = document.createEvent(\"CustomEvent\");\r\n\r\n\t\t\tevt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\r\n\r\n\t\t\treturn evt;\r\n\t\t}\r\n\r\n\t\tCustomEvent.prototype = Object.create(window.Event.prototype);\r\n\t}\r\n\r\n\t// Window Resized Event\r\n\tvar winResizedEvent = new CustomEvent('winResized'),\r\n\trsz = true;\r\n\r\n\twindow.addEventListener('resize', function() {\r\n\t\tif (rsz) {\r\n\t\t\trsz = false;\r\n\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\twindow.dispatchEvent(winResizedEvent);\r\n\t\t\t\trsz = true;\r\n\t\t\t}, 1021);\r\n\t\t}\r\n\t});\r\n\r\n\t// Closest polyfill\r\n\tif (!Element.prototype.closest) {\r\n\t\t(function(ElProto) {\r\n\t\t\tElProto.matches = ElProto.matches || ElProto.mozMatchesSelector || ElProto.msMatchesSelector || ElProto.oMatchesSelector || ElProto.webkitMatchesSelector;\r\n\r\n\t\t\tElProto.closest = ElProto.closest || function closest(selector) {\r\n\t\t\t\tif (!this) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.matches(selector)) {\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!this.parentElement) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this.parentElement.closest(selector);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t})(Element.prototype);\r\n\t}\r\n\r\n\t// Check element for hidden\r\n\telemIsHidden = function(elem) {\r\n\t\twhile (elem) {\r\n\t\t\tif (!elem) break;\r\n\r\n\t\t\tconst compStyle = getComputedStyle(elem);\r\n\r\n\t\t\tif (compStyle.display == 'none' || compStyle.visibility == 'hidden' || compStyle.opacity == '0') return true;\r\n\r\n\t\t\telem = elem.parentElement;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Ajax\r\n\tajax = function(options) {\r\n\t\tvar xhr = new XMLHttpRequest();\r\n\r\n\t\txhr.open('POST', options.url);\r\n\r\n\t\tif (typeof options.send == 'string') {\r\n\t\t\txhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\r\n\t\t}\r\n\t\t\r\n\t\txhr.onreadystatechange = function() {\r\n\t\t\tif (xhr.readyState == 4 && xhr.status == 200) {\r\n\t\t\t\toptions.success(xhr.response);\r\n\t\t\t} else if (xhr.readyState == 4 && xhr.status != 200) {\r\n\t\t\t\toptions.error(xhr.response);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\txhr.send(options.send);\r\n\t}\r\n\r\n\t/*\r\n\tAnimation\r\n\tanimate(function(takes 0...1) {}, Int duration in ms[, Str easing[, Fun animation complete]]);\r\n\t*/\r\n\tanimate = function(draw, duration, ease, complete) {\r\n\t\tvar start = performance.now();\r\n\r\n\t\trequestAnimationFrame(function anim(time) {\r\n\t\t\tvar timeFraction = (time - start) / duration;\r\n\r\n\t\t\tif (timeFraction > 1) {\r\n\t\t\t\ttimeFraction = 1;\r\n\t\t\t}\r\n\r\n\t\t\tvar progress = (ease) ? easing(timeFraction, ease) : timeFraction;\r\n\r\n\t\t\tdraw(progress);\r\n\r\n\t\t\tif (timeFraction < 1) {\r\n\t\t\t\trequestAnimationFrame(anim);\r\n\t\t\t} else {\r\n\t\t\t\tif (complete != undefined) {\r\n\t\t\t\t\tcomplete();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction easing(timeFraction, ease) {\r\n\t\tswitch (ease) {\r\n\t\t\tcase 'easeInQuad':\r\n\t\t\treturn quad(timeFraction);\r\n\t\t\t\r\n\t\t\tcase 'easeOutQuad':\r\n\t\t\treturn 1 - quad(1 - timeFraction);\r\n\t\t\t\r\n\t\t\tcase 'easeInOutQuad':\r\n\t\t\tif (timeFraction <= 0.5) {\r\n\t\t\t\treturn quad(2 * timeFraction) / 2;\r\n\t\t\t} else {\r\n\t\t\t\treturn (2 - quad(2 * (1 - timeFraction))) / 2;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction quad(timeFraction) {\r\n\t\treturn Math.pow(timeFraction, 2)\r\n\t}\r\n})();","var Popup;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\t// popup core\r\n\tPopup = {\r\n\t\twinScrollTop: 0,\r\n\t\tonClose: null,\r\n\t\theaderSelector: '.header',\r\n\r\n\t\tfixBody: function(st) {\r\n\t\t\tvar headerElem = document.querySelector(this.headerSelector);\r\n\r\n\t\t\tif (st && !document.body.classList.contains('popup-is-opened')) {\r\n\t\t\t\tthis.winScrollTop = window.pageYOffset;\r\n\r\n\t\t\t\tvar offset = window.innerWidth - document.documentElement.clientWidth;\r\n\r\n\t\t\t\tdocument.body.classList.add('popup-is-opened');\r\n\r\n\t\t\t\tif (headerElem) {\r\n\t\t\t\t\theaderElem.style.right = offset +'px';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdocument.body.style.right = offset +'px';\r\n\r\n\t\t\t\tdocument.body.style.top = (-this.winScrollTop) +'px';\r\n\t\t\t} else if (!st) {\r\n\t\t\t\tif (headerElem) {\r\n\t\t\t\t\theaderElem.style.right = '';\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tdocument.body.classList.remove('popup-is-opened');\r\n\r\n\t\t\t\twindow.scrollTo(0, this.winScrollTop);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\topen: function(elementStr, callback) {\r\n\t\t\tvar elem = document.querySelector(elementStr);\r\n\r\n\t\t\tif (!elem || !elem.classList.contains('popup__window')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.close();\r\n\r\n\t\t\tvar elemParent = elem.parentElement;\r\n\t\t\t\r\n\t\t\telemParent.classList.add('popup_visible');\r\n\r\n\t\t\telem.classList.add('popup__window_visible');\r\n\r\n\t\t\tif (callback) {\r\n\t\t\t\tthis.onClose = callback;\r\n\t\t\t}\r\n\r\n\t\t\tthis.fixBody(true);\r\n\r\n\t\t\treturn elem;\r\n\t\t},\r\n\r\n\t\tmessage: function(elementStr, msg, callback) {\r\n\t\t\tvar elem = this.open(elementStr, callback);\r\n\r\n\t\t\telem.querySelector('.popup__inner').innerHTML = '<div class=\"popup__message\">'+ msg +'</div>';\r\n\t\t},\r\n\r\n\t\tclose: function() {\r\n\t\t\tvar elements = document.querySelectorAll('.popup__window');\r\n\r\n\t\t\tif (!elements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (!elem.classList.contains('popup__window_visible')) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\telem.classList.remove('popup__window_visible');\r\n\t\t\t\telem.parentElement.classList.remove('popup_visible');\r\n\t\t\t}\r\n\r\n\t\t\tif (this.onClose) {\r\n\t\t\t\tthis.onClose();\r\n\t\t\t\tthis.onClose = null;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar element = e.target.closest(elementStr),\r\n\t\t\t\tcloseElem = e.target.closest('.js-popup-close');\r\n\r\n\t\t\t\tif (element) {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tthis.open(element.getAttribute('data-popup'));\r\n\t\t\t\t} else if (closeElem || (!e.target.closest('.popup__window') && e.target.closest('.popup'))) {\r\n\t\t\t\t\tthis.fixBody(false);\r\n\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (window.location.hash) {\r\n\t\t\t\tthis.open(window.location.hash);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n})();","; var Placeholder;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tPlaceholder = {\r\n\t\tinit: function(elementsStr) {\r\n\t\t\tvar elements = document.querySelectorAll(elementsStr);\r\n\r\n\t\t\tif (!elements.length) return;\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elem.placeholder) {\r\n\r\n\t\t\t\t\tvar elemFor = (elem.id) ? elem.id : 'placeholder-index-'+ i,\r\n\t\t\t\t\tlabel = document.createElement('label');\r\n\r\n\t\t\t\t\tlabel.htmlFor = elemFor;\r\n\t\t\t\t\tlabel.className = 'placeholder';\r\n\t\t\t\t\tlabel.innerHTML = elem.placeholder;\r\n\r\n\t\t\t\t\telem.parentElement.insertBefore(label, elem);\r\n\r\n\t\t\t\t\telem.removeAttribute('placeholder');\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!elem.id) {\r\n\t\t\t\t\t\telem.id = elemFor;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (elem.value.length) {\r\n\t\t\t\t\tthis.hide(elem, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//events\r\n\t\t\tdocument.addEventListener('focus', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementsStr);\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.hide(elem, true);\r\n\t\t\t\t}\r\n\t\t\t}, true);\r\n\r\n\t\t\tdocument.addEventListener('blur', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementsStr);\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.hide(elem, false);\r\n\t\t\t\t}\r\n\t\t\t}, true);\r\n\t\t},\r\n\t\t\r\n\t\thide: function(elem, hide) {\r\n\t\t\tvar label = document.querySelector('label.placeholder[for=\"'+ elem.id +'\"]');\r\n\r\n\t\t\tif (!label) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar lSt = label.style;\r\n\r\n\t\t\tif (hide) {\r\n\r\n\t\t\t\tlSt.textIndent = '-9999px';\r\n\t\t\t\tlSt.paddingLeft = '0px';\r\n\t\t\t\tlSt.paddingRight = '0px';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (!elem.value.length) {\r\n\t\t\t\t\tlSt.textIndent = '';\r\n\t\t\t\t\tlSt.paddingLeft = '';\r\n\t\t\t\t\tlSt.paddingRight = '';\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//init scripts\r\n\tdocument.addEventListener('DOMContentLoaded', function() {\r\n\t\tPlaceholder.init('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\t});\r\n})();","var ValidateForm, Form;\r\n\r\n(function () {\r\n\t'use strict';\r\n\t\r\n\t// validate form\r\n\tValidateForm = {\r\n\t\tinput: null,\r\n\t\t\r\n\t\terrorTip: function (err, errInd, errorTxt) {\r\n\t\t\tconst field = this.input.closest('.form__field') || this.input.parentElement,\r\n\t\t\terrTip = field.querySelector('.field-error-tip');\r\n\t\t\t\r\n\t\t\tif (err) {\r\n\t\t\t\tfield.classList.remove('field-success');\r\n\t\t\t\tfield.classList.add('field-error');\r\n\t\t\t\t\r\n\t\t\t\tif (!errTip) return;\r\n\t\t\t\t\r\n\t\t\t\tif (errInd) {\r\n\t\t\t\t\tif (!errTip.hasAttribute('data-error-text')) {\r\n\t\t\t\t\t\terrTip.setAttribute('data-error-text', errTip.innerHTML);\r\n\t\t\t\t\t}\r\n\t\t\t\t\terrTip.innerHTML = (errInd != 'custom') ? errTip.getAttribute('data-error-text-'+ errInd) : errorTxt;\r\n\t\t\t\t} else if (errTip.hasAttribute('data-error-text')) {\r\n\t\t\t\t\terrTip.innerHTML = errTip.getAttribute('data-error-text');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfield.classList.remove('field-error');\r\n\t\t\t\tfield.classList.add('field-success');\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tcustomErrorTip: function (input, errorTxt) {\r\n\t\t\tif (!input) return;\r\n\t\t\t\r\n\t\t\tthis.input = input;\r\n\t\t\t\r\n\t\t\tthis.errorTip(true, 'custom', errorTxt);\r\n\t\t},\r\n\t\t\r\n\t\ttxt: function () {\r\n\t\t\tvar err = false;\r\n\t\t\t\r\n\t\t\tif (!/^[0-9a-zа-яё_,.:;@-\\s]*$/i.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\tnum: function () {\r\n\t\t\tvar err = false;\r\n\t\t\t\r\n\t\t\tif (!/^[0-9.,-]*$/.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\tname: function () {\r\n\t\t\tvar err = false;\r\n\t\t\t\r\n\t\t\tif (!/^[a-zа-яё'-]{3,21}(\\s[a-zа-яё'-]{3,21})?(\\s[a-zа-яё'-]{3,21})?$/i.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\tdate: function () {\r\n\t\t\tvar err = false, \r\n\t\t\terrDate = false, \r\n\t\t\tmatches = this.input.value.match(/^(\\d{2}).(\\d{2}).(\\d{4})$/);\r\n\t\t\t\r\n\t\t\tif (!matches) {\r\n\t\t\t\terrDate = 1;\r\n\t\t\t} else {\r\n\t\t\t\tvar compDate = new Date(matches[3], (matches[2] - 1), matches[1]),\r\n\t\t\t\tcurDate = new Date();\r\n\t\t\t\t\r\n\t\t\t\tif (this.input.hasAttribute('data-min-years-passed')) {\r\n\t\t\t\t\tvar interval = curDate.valueOf() - new Date(curDate.getFullYear() - (+this.input.getAttribute('data-min-years-passed')), curDate.getMonth(), curDate.getDate()).valueOf();\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (curDate.valueOf() < compDate.valueOf() || (curDate.getFullYear() - matches[3]) > 100) {\r\n\t\t\t\t\t\terrDate = 1;\r\n\t\t\t\t\t} else if ((curDate.valueOf() - compDate.valueOf()) < interval) {\r\n\t\t\t\t\t\terrDate = 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (compDate.getFullYear() != matches[3] || compDate.getMonth() != (matches[2] - 1) || compDate.getDate() != matches[1]) {\r\n\t\t\t\t\terrDate = 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (errDate == 1) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else if (errDate == 2) {\r\n\t\t\t\tthis.errorTip(true, 3);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\temail: function () {\r\n\t\t\tvar err = false;\r\n\t\t\t\r\n\t\t\tif (!/^[a-z0-9]+[\\w\\-\\.]*@[\\w\\-]{2,}\\.[a-z]{2,6}$/i.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\turl: function () {\r\n\t\t\tvar err = false;\r\n\t\t\t\r\n\t\t\tif (!/^(https?\\:\\/\\/)?[a-zа-я0-9\\-\\.]+\\.[a-zа-я]{2,11}$/i.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\ttel: function () {\r\n\t\t\tvar err = false;\r\n\t\t\t\r\n\t\t\tif (!/^\\+7\\([0-9]{3}\\)[0-9]{3}-[0-9]{2}-[0-9]{2}$/.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\tpass: function () {\r\n\t\t\tvar err = false,\r\n\t\t\tminLng = this.input.getAttribute('data-min-length');\r\n\t\t\t\r\n\t\t\tif (minLng && this.input.value.length < minLng) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\tcheckbox: function (elem) {\r\n\t\t\tthis.input = elem;\r\n\t\t\t\r\n\t\t\tvar group = elem.closest('.form__chbox-group');\r\n\t\t\t\r\n\t\t\tif (group && group.getAttribute('data-tested')) {\r\n\t\t\t\tvar checkedElements = 0,\r\n\t\t\t\telements = group.querySelectorAll('input[type=\"checkbox\"]');\r\n\t\t\t\t\r\n\t\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\t\tif (elements[i].checked) {\r\n\t\t\t\t\t\tcheckedElements++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (checkedElements < group.getAttribute('data-min')) {\r\n\t\t\t\t\tgroup.classList.add('form__chbox-group_error');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgroup.classList.remove('form__chbox-group_error');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t} else if (elem.getAttribute('data-tested')) {\r\n\t\t\t\tif (elem.getAttribute('data-required') && !elem.checked) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tradio: function (elem) {\r\n\t\t\tthis.input = elem;\r\n\t\t\t\r\n\t\t\tvar checkedElement = false,\r\n\t\t\tgroup = elem.closest('.form__radio-group'),\r\n\t\t\telements = group.querySelectorAll('input[type=\"radio\"]');\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tif (elements[i].checked) {\r\n\t\t\t\t\tcheckedElement = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (!checkedElement) {\r\n\t\t\t\tgroup.classList.add('form__radio-group_error');\r\n\t\t\t} else {\r\n\t\t\t\tgroup.classList.remove('form__radio-group_error');\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tselect: function (elem) {\r\n\t\t\tvar err = false;\r\n\t\t\t\r\n\t\t\tthis.input = elem;\r\n\t\t\t\r\n\t\t\tif (elem.getAttribute('data-required') && !elem.value.length) {\r\n\t\t\t\tthis.errorTip(true);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\tfile: function (elem, filesArr) {\r\n\t\t\tthis.input = elem;\r\n\t\t\t\r\n\t\t\tvar err = false,\r\n\t\t\terrCount = {ext: 0, size: 0},\r\n\t\t\tmaxFiles = +this.input.getAttribute('data-max-files'),\r\n\t\t\textRegExp = new RegExp('(?:\\\\.'+ this.input.getAttribute('data-ext').replace(/,/g, '|\\\\.') +')$', 'i'),\r\n\t\t\tmaxSize = +this.input.getAttribute('data-max-size'),\r\n\t\t\tfileItemElements = this.input.closest('.custom-file').querySelectorAll('.custom-file__item');;\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < filesArr.length; i++) {\r\n\t\t\t\tvar file = filesArr[i];\r\n\t\t\t\t\r\n\t\t\t\tif (!file.name.match(extRegExp)) {\r\n\t\t\t\t\terrCount.ext++;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (fileItemElements[i]) {\r\n\t\t\t\t\t\tfileItemElements[i].classList.add('file-error');\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (file.size > maxSize) {\r\n\t\t\t\t\terrCount.size++;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (fileItemElements[i]) {\r\n\t\t\t\t\t\tfileItemElements[i].classList.add('file-error');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (maxFiles && filesArr.length > maxFiles) {\r\n\t\t\t\tthis.errorTip(true, 4);\r\n\t\t\t\terr = true;\r\n\t\t\t} else if (errCount.ext) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else if (errCount.size) {\r\n\t\t\t\tthis.errorTip(true, 3);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\tvalidateOnInput: function (elem) {\r\n\t\t\tthis.input = elem;\r\n\t\t\t\r\n\t\t\tvar dataType = elem.getAttribute('data-type');\r\n\t\t\t\r\n\t\t\tif (elem.getAttribute('data-required') && !elem.value.length) {\r\n\t\t\t\tthis.errorTip(true);\r\n\t\t\t} else if (elem.value.length) {\r\n\t\t\t\tif (dataType) {\r\n\t\t\t\t\tthis[dataType]();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tvalidate: function (formElem) {\r\n\t\t\tvar err = 0;\r\n\t\t\t\r\n\t\t\t// text, password, textarea\r\n\t\t\tvar elements = formElem.querySelectorAll('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\t\t\t\t\r\n\t\t\t\tif (elemIsHidden(elem)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.input = elem;\r\n\t\t\t\t\r\n\t\t\t\telem.setAttribute('data-tested', 'true');\r\n\t\t\t\t\r\n\t\t\t\tvar dataType = elem.getAttribute('data-type');\r\n\t\t\t\t\r\n\t\t\t\tif (elem.getAttribute('data-required') && !elem.value.length) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else if (elem.value.length) {\r\n\t\t\t\t\tif (dataType) {\r\n\t\t\t\t\t\tif (this[dataType]()) {\r\n\t\t\t\t\t\t\terr++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// select\r\n\t\t\tvar elements = formElem.querySelectorAll('.custom-select__input');\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\t\t\t\t\r\n\t\t\t\tif (elemIsHidden(elem.parentElement)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (this.select(elem)) {\r\n\t\t\t\t\terr++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// checkboxes\r\n\t\t\tvar elements = formElem.querySelectorAll('input[type=\"checkbox\"]');\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\t\t\t\t\r\n\t\t\t\tif (elemIsHidden(elem)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.input = elem;\r\n\t\t\t\t\r\n\t\t\t\telem.setAttribute('data-tested', 'true');\r\n\t\t\t\t\r\n\t\t\t\tif (elem.getAttribute('data-required') && !elem.checked) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// checkbox group\r\n\t\t\tvar groups = formElem.querySelectorAll('.form__chbox-group');\r\n\t\t\t\r\n\t\t\tfor (let i = 0; i < groups.length; i++) {\r\n\t\t\t\tvar group = groups[i],\r\n\t\t\t\tcheckedElements = 0;\r\n\t\t\t\t\r\n\t\t\t\tif (elemIsHidden(group)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tgroup.setAttribute('data-tested', 'true');\r\n\t\t\t\t\r\n\t\t\t\tvar elements = group.querySelectorAll('input[type=\"checkbox\"]');\r\n\t\t\t\t\r\n\t\t\t\tfor (let i = 0; i < elements.length; i++) {\r\n\t\t\t\t\tif (elements[i].checked) {\r\n\t\t\t\t\t\tcheckedElements++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (checkedElements < group.getAttribute('data-min')) {\r\n\t\t\t\t\tgroup.classList.add('form__chbox-group_error');\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgroup.classList.remove('form__chbox-group_error');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// radio group\r\n\t\t\tvar groups = formElem.querySelectorAll('.form__radio-group');\r\n\t\t\t\r\n\t\t\tfor (let i = 0; i < groups.length; i++) {\r\n\t\t\t\tvar group = groups[i],\r\n\t\t\t\tcheckedElement = false;\r\n\t\t\t\t\r\n\t\t\t\tif (elemIsHidden(group)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tgroup.setAttribute('data-tested', 'true');\r\n\t\t\t\t\r\n\t\t\t\tvar elements = group.querySelectorAll('input[type=\"radio\"]');\r\n\t\t\t\t\r\n\t\t\t\tfor (let i = 0; i < elements.length; i++) {\r\n\t\t\t\t\tif (elements[i].checked) {\r\n\t\t\t\t\t\tcheckedElement = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (!checkedElement) {\r\n\t\t\t\t\tgroup.classList.add('form__radio-group_error');\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgroup.classList.remove('form__radio-group_error');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// file\r\n\t\t\tvar elements = formElem.querySelectorAll('input[type=\"file\"]');\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\t\t\t\t\r\n\t\t\t\tif (elemIsHidden(elem)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.input = elem;\r\n\t\t\t\t\r\n\t\t\t\tif (CustomFile.inputFiles(elem).length) {\r\n\t\t\t\t\tif (this.file(elem, CustomFile.inputFiles(elem))) {\r\n\t\t\t\t\t\terr++;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (elem.getAttribute('data-required')) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// passwords compare\r\n\t\t\tvar elements = formElem.querySelectorAll('input[data-pass-compare-input]');\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\t\t\t\t\r\n\t\t\t\tif (elemIsHidden(elem)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.input = elem;\r\n\t\t\t\t\r\n\t\t\t\tvar val = elem.value;\r\n\t\t\t\t\r\n\t\t\t\tif (val.length) {\r\n\t\t\t\t\tvar compElemVal = formElem.querySelector(elem.getAttribute('data-pass-compare-input')).value;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (val !== compElemVal) {\r\n\t\t\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\t\t\terr++;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (err) {\r\n\t\t\t\tformElem.classList.add('form-error');\r\n\t\t\t} else {\r\n\t\t\t\tformElem.classList.remove('form-error');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn (err) ? false : true;\r\n\t\t},\r\n\t\t\r\n\t\tinit: function (formSelector) {\r\n\t\t\tdocument.addEventListener('input', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(formSelector +' input[type=\"text\"],'+ formSelector +' input[type=\"password\"],'+ formSelector +' textarea');\r\n\t\t\t\t\r\n\t\t\t\tif (elem && elem.hasAttribute('data-tested')) {\r\n\t\t\t\t\tthis.validateOnInput(elem);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tdocument.addEventListener('change', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(formSelector +' input[type=\"radio\"],'+ formSelector +' input[type=\"checkbox\"]');\r\n\t\t\t\t\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis[elem.type](elem);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\t// variable height textarea\r\n\tvar varHeightTextarea = {\r\n\t\tsetHeight: function (elem) {\r\n\t\t\tvar mirror = elem.parentElement.querySelector('.var-height-textarea__mirror'),\r\n\t\t\tmirrorOutput = elem.value.replace(/\\n/g, '<br>');\r\n\t\t\t\r\n\t\t\tmirror.innerHTML = mirrorOutput +'&nbsp;';\r\n\t\t},\r\n\t\t\r\n\t\tinit: function () {\r\n\t\t\tdocument.addEventListener('input', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('.var-height-textarea__textarea');\r\n\t\t\t\t\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.setHeight(elem);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\t// next fieldset\r\n\tvar NextFieldset = {\r\n\t\tnext: function (btnElem, fwd) {\r\n\t\t\tvar nextFieldset = (btnElem.hasAttribute('data-go-to-fieldset')) ? document.querySelector(btnElem.getAttribute('data-go-to-fieldset')) : null;\r\n\t\t\t\r\n\t\t\tif (!nextFieldset) return;\r\n\t\t\t\r\n\t\t\tvar currentFieldset = btnElem.closest('.fieldset__item'),\r\n\t\t\tgoTo = (fwd) ? ValidateForm.validate(currentFieldset) : true;\r\n\t\t\t\r\n\t\t\tif (goTo) {\r\n\t\t\t\tcurrentFieldset.classList.add('fieldset__item_hidden');\r\n\t\t\t\tnextFieldset.classList.remove('fieldset__item_hidden');\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tinit: function (nextBtnSelector, prevBtnSelector) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar nextBtnElem = e.target.closest(nextBtnSelector),\r\n\t\t\t\tprevBtnElem = e.target.closest(prevBtnSelector);\r\n\t\t\t\t\r\n\t\t\t\tif (nextBtnElem) {\r\n\t\t\t\t\tthis.next(nextBtnElem, true);\r\n\t\t\t\t} else if (prevBtnElem) {\r\n\t\t\t\t\tthis.next(prevBtnElem, false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\t// form\r\n\tForm = {\r\n\t\tonSubmit: null,\r\n\t\t\r\n\t\tsubmit: function (e, formElem) {\r\n\t\t\tformElem.classList.add('form_sending');\r\n\t\t\t\r\n\t\t\tif (!this.onSubmit) {\r\n\t\t\t\tformElem.submit();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// clear form\r\n\t\t\tfunction clear() {\r\n\t\t\t\tvar elements = formElem.querySelectorAll('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\t\t\t\t\r\n\t\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\t\tvar elem = elements[i];\r\n\t\t\t\t\t\r\n\t\t\t\t\telem.value = '';\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (window.Placeholder) {\r\n\t\t\t\t\t\tPlaceholder.hide(elem, false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (window.Select) {\r\n\t\t\t\t\tSelect.reset();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tvar textareaMirrors = formElem.querySelectorAll('.form__textarea-mirror');\r\n\t\t\t\t\r\n\t\t\t\tfor (var i = 0; i < textareaMirrors.length; i++) {\r\n\t\t\t\t\ttextareaMirrors[i].innerHTML = '';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// submit button\r\n\t\t\tfunction actSubmitBtn(st) {\r\n\t\t\t\tvar elements = formElem.querySelectorAll('button[type=\"submit\"], input[type=\"submit\"]');\r\n\t\t\t\t\r\n\t\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\t\tvar elem = elements[i];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!elemIsHidden(elem)) {\r\n\t\t\t\t\t\tif (st) {\r\n\t\t\t\t\t\t\telem.removeAttribute('disabled');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\telem.setAttribute('disabled', 'disable');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// call onSubmit\r\n\t\t\tvar ret = this.onSubmit(formElem, function (obj) {\r\n\t\t\t\tobj = obj || {};\r\n\t\t\t\t\r\n\t\t\t\tactSubmitBtn(obj.unlockSubmitButton);\r\n\t\t\t\t\r\n\t\t\t\tformElem.classList.remove('form_sending');\r\n\t\t\t\t\r\n\t\t\t\tif (obj.clearForm == true) {\r\n\t\t\t\t\tclear();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tif (ret === false) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tactSubmitBtn(false);\r\n\t\t\t} else {\r\n\t\t\t\tformElem.submit();\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tinit: function (formSelector) {\r\n\t\t\tif (!document.querySelector(formSelector)) return;\r\n\t\t\t\r\n\t\t\tValidateForm.init(formSelector);\r\n\t\t\t\r\n\t\t\t// submit event\r\n\t\t\tdocument.addEventListener('submit', (e) => {\r\n\t\t\t\tvar formElem = e.target.closest(formSelector);\r\n\t\t\t\t\r\n\t\t\t\tif (!formElem) return;\r\n\t\t\t\t\r\n\t\t\t\tif (ValidateForm.validate(formElem)) {\r\n\t\t\t\t\tthis.submit(e, formElem);\r\n\t\t\t\t} else {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t// keyboard event\r\n\t\t\tdocument.addEventListener('keydown', (e) => {\r\n\t\t\t\tvar formElem = e.target.closest(formSelector);\r\n\t\t\t\t\r\n\t\t\t\tif (!formElem) return;\r\n\t\t\t\t\r\n\t\t\t\tvar key = e.which || e.keyCode || 0;\r\n\t\t\t\t\r\n\t\t\t\tif (e.ctrlKey && key == 13) {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tif (ValidateForm.validate(formElem)) {\r\n\t\t\t\t\t\tthis.submit(e, formElem);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\t// bind labels\r\n\tfunction BindLabels(elementsStr) {\r\n\t\tvar elements = document.querySelectorAll(elementsStr);\r\n\t\t\r\n\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\tvar elem = elements[i],\r\n\t\t\tlabel = elem.parentElement.querySelector('label'),\r\n\t\t\tforID = (elem.hasAttribute('id')) ? elem.id : 'keylabel-'+ i;\r\n\t\t\t\r\n\t\t\tif (label && !label.hasAttribute('for')) {\r\n\t\t\t\tlabel.htmlFor = forID;\r\n\t\t\t\telem.id = forID;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t// duplicate form\r\n\tvar DuplicateForm = {\r\n\t\tadd: function (btnElem) {\r\n\t\t\tvar modelElem = (btnElem.hasAttribute('data-form-model')) ? document.querySelector(btnElem.getAttribute('data-form-model')) : null,\r\n\t\t\tdestElem = (btnElem.hasAttribute('data-duplicated-dest')) ? document.querySelector(btnElem.getAttribute('data-duplicated-dest')) : null;\r\n\t\t\t\r\n\t\t\tif (!modelElem || !destElem) return;\r\n\t\t\t\r\n\t\t\tvar duplicatedDiv = document.createElement('div');\r\n\t\t\t\r\n\t\t\tduplicatedDiv.className = 'duplicated';\r\n\t\t\t\r\n\t\t\tduplicatedDiv.innerHTML = modelElem.innerHTML;\r\n\t\t\t\r\n\t\t\tdestElem.appendChild(duplicatedDiv);\r\n\t\t\t\r\n\t\t\tvar dupicatedElements = destElem.querySelectorAll('.duplicated');\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < dupicatedElements.length; i++) {\r\n\t\t\t\tvar dupicatedElem = dupicatedElements[i],\r\n\t\t\t\tlabelElements = dupicatedElem.querySelectorAll('label'),\r\n\t\t\t\tinputElements = dupicatedElem.querySelectorAll('input');\r\n\t\t\t\t\r\n\t\t\t\tfor (var j = 0; j < labelElements.length; j++) {\r\n\t\t\t\t\tvar elem = labelElements[j];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (elem.htmlFor != '') {\r\n\t\t\t\t\t\telem.htmlFor += '-'+ i +'-'+ j;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfor (var j = 0; j < inputElements.length; j++) {\r\n\t\t\t\t\tvar elem = inputElements[j];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (elem.id != '') {\r\n\t\t\t\t\t\telem.id += '-'+ i +'-'+ j;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tremove: function (btnElem) {\r\n\t\t\tvar duplElem =  btnElem.closest('.duplicated');\r\n\t\t\t\r\n\t\t\tif (duplElem) {\r\n\t\t\t\tduplElem.innerHTML = '';\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tinit: function (addBtnSelector, removeBtnSelector) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar addBtnElem = e.target.closest(addBtnSelector),\r\n\t\t\t\tremoveBtnElem = e.target.closest(removeBtnSelector);\r\n\t\t\t\t\r\n\t\t\t\tif (addBtnElem) {\r\n\t\t\t\t\tthis.add(addBtnElem);\r\n\t\t\t\t} else if (removeBtnElem) {\r\n\t\t\t\t\tthis.remove(removeBtnElem);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\t// set tabindex\r\n\t/*function SetTabindex(elementsStr) {\r\n\t\tvar elements = document.querySelectorAll(elementsStr);\r\n\t\t\r\n\t\tfor (let i = 0; i < elements.length; i++) {\r\n\t\t\tvar elem = elements[i];\r\n\t\t\t\r\n\t\t\tif (!elemIsHidden(elem)) {\r\n\t\t\t\telem.setAttribute('tabindex', i + 1);\r\n\t\t\t}\r\n\t\t}\r\n\t}*/\r\n\t\r\n\t// init scripts\r\n\tdocument.addEventListener('DOMContentLoaded', function () {\r\n\t\tBindLabels('input[type=\"text\"], input[type=\"checkbox\"], input[type=\"radio\"]');\r\n\t\t// SetTabindex('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\t\tvarHeightTextarea.init();\r\n\t\tNextFieldset.init('.js-next-fieldset-btn', '.js-prev-fieldset-btn');\r\n\t\tDuplicateForm.init('.js-dupicate-form-btn', '.js-remove-dupicated-form-btn');\r\n\t});\r\n})();","/*\r\nnew Alert({\r\n\tcontent: 'We use coockie',\r\n\tposition: 'top', // default - bottom\r\n\tshowOnce: true // default - false\r\n});\r\n*/\r\n\r\n; var Alert;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tvar alertIndex = 0;\r\n\r\n\tAlert = function (opt) {\r\n\t\topt = opt || {};\r\n\r\n\t\tvar alertId = 'alert-id-'+ (alertIndex++);\r\n\r\n\t\tif (opt.showOnce) {\r\n\t\t\tlet hiddenAlert = window.localStorage.getItem('notShowAlert='+ alertId);\r\n\r\n\t\t\tif (hiddenAlert !== null && hiddenAlert === 'true') {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//add alert to DOM\r\n\t\tvar alertElem = document.createElement('div');\r\n\r\n\t\talertElem.className = 'alert';\r\n\r\n\t\talertElem.id = alertId;\r\n\r\n\t\talertElem.innerHTML = '<div></div><button class=\"alert-close-btn\"></button>';\r\n\r\n\t\tdocument.body.appendChild(alertElem);\r\n\r\n\t\tif (opt.position == 'top') {\r\n\t\t\talertElem.classList.add('alert_top');\r\n\t\t}\r\n\t\t\r\n\t\t// set content\r\n\t\tthis.setContent = function (content) {\r\n\t\t\talertElem.querySelector('div').innerHTML = content;\r\n\t\t}\r\n\r\n\t\tif (opt.content) {\r\n\t\t\tthis.setContent(opt.content);\r\n\t\t}\r\n\r\n\t\t// hide permanently\r\n\t\tfunction hidePermanently() {\r\n\t\t\twindow.localStorage.setItem('notShowAlert='+ alertId, 'true');\r\n\t\t}\r\n\r\n\t\t// hide\r\n\t\tfunction hide() {\r\n\t\t\talertElem.classList.add('alert_hidden');\r\n\t\t\t\r\n\t\t\tif (opt.showOnce) {\r\n\t\t\t\thidePermanently();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\talertElem.querySelector('.alert-close-btn').addEventListener('click', hide);\r\n\t}\r\n})();"]}